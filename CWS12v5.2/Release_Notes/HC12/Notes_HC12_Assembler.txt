RELEASE NOTES HC12 Assembler

RELEASE NOTES AHC12 V5.0.32
  List of new Features
  - -DefLabel option is provided in assembler. On passing this option, the data directives (not associated to any label) 
    get associated with previous defined labels (if exists). Thus the generation of VAR variables gets reduced.
    It addresses issue MTWX42670.
  List of fixed Bugs
  - MTWX45689: Assembler accepted instruction (BRSET    FLAG,,#1,LOOP) of incorrect syntax and     this is fixed.

RELEASE NOTES AHC12 V5.0.31
  List of new Features
  - Environment variable expansion in the command line (also applies to command line arguments provided via the -ArgFile option). 
  The syntax is $(ENV_VAR) or ${ENV_VAR}. Example: ahc08 -I{INC_PATH} test.c
  List of fixed Bugs
  - none.

RELEASE NOTES AHC12 V5.0.30
  List of new features
  - The Assembler now supports {label}.It replaces the label within {} with its value.
    Consider code snippet:
    tmp: SET 1
    label{tmp}: SET 0 ; {tmp} gets replaced by the value of label tmp.
    The line is replaced to
    label1: SET 0

  List of fixed Bugs
  - MTWX23139:Dangling labels across sections are handled.
    Consider the sample
            XDEF main,COMEND
      CMD_SEC          section
      COMEND           ; equ * /*Different COMEND address with and without comment identified for CPX #COMEND instruction */
      MY_EXTENDED_RAM: SECTION
      Counter1:        ds.w 1
      MyCode:          SECTION
      main
              CPX  #COMEND          

RELEASE NOTES AHC12 V5.0.29
  List of new features
  - license checkouts have been removed for features included in special edition license file.

  List of fixed Bugs
    - the assembler mixed up faulty declared constant with constants declared as a list of digits followed by a base designator). For instance
      when encountering SYMBOL+8B, the assembler tried to interpret 8B as a binary constant, resulting in an assembler crash.
    - MTWX20634: when the license file is accessed using the path from the LM_LICENSE_FILE environment variable (i.e. there is no license.dat in the
      tool's directory or its parent, nor is there a hiware.dat license file), and a required feature expires in less than 10 days, a crash occurs.
      This bug is fixed for build numbers greater than 6088.  

RELEASE NOTES AHC12 V5.0.28

  List of new Features
  - The assembler supports now license lingering. Lingering time is 10 minutes to allow caching of licenses (to reduce compilation time).
  - Mapping unknown messages is now treated as warning and no longer as error. This change allows to maintain compatibility with old build tools when removing no longer used messages.

  List of fixed Bugs
  - Opening files from the builtin Windows GUI with double clicking did cause a crash 
    if the File->Configuration->Editor Settings dialog was configured as "CodeWarrior (with COM)" and if an old IDE 4.1 was 
    configured as current CodeWarrior IDE to be used. It did work as expected with if any
    more recent CodeWarrior IDE was registered.

  Demo Version Limitations

    If the assembler is running in demo mode (e.g. because there is no license file), there are
    following limitations:
      - Total code size for an application is limited to 1024 bytes.

RELEASE NOTES AHC12 V5.0.27

  List of new Features
  - Addresses are now correctly separated into address space and page/offset. The page/offset is 24 bits in size and the address space is one of HCS12 Logical (default),
    HCS12X Global or XGATE.
    Note that this implies that shared constants with XDEF are only exported as 24 bits plus address space.
  - 1-54681434: New option -LicWait. If set and used with floating license configuration, if no license is available from the license server,
    it will wait until a license is available. This is useful if you want to wait until a license is free, e.g. with batch jobs.
  - The about box (and option -Lic) shows now as well borrowing status (same as lmborrow.exe -status)
  - New option -LicBorrow:
    -LicBorrow    Borrow license feature (-LicBorrow<feature>:<Date>, <Date> in dd-mmm-yyyy[:hh:mm] format and 
    time in 24-hour hh:mm format)
    It enables selective borrowing of features (supported by the application). Note that borrowing is only supported
    if enabled in the license file by the BORROW keyword.
  - In case of an expire/evaluation license, you are now warned 10 days before the license expires.
    The warning dialog box pops up once every day.
  - FLEXlm support for BORROWING. Note that BORROWING is only available for floating licenses, and may be sold
    as a separate product or for an additional fee. BORROWING is used so you can work with a floating license
    even if you are disconnected from the licensing server. See FLEXlm user manuals for details on BORROWING.
    Note that this product needs a FLEXlm daemon (metrowks.exe on the licensing server) with following
    version information:
    FLEXlm v8.4a (lmgr.lib), Copyright (c) 1988-2003 by Macrovision Corporation. All rights reserved.
    The latest FLEXlm floating server software can as well be downloaded from the www.metrowerks.com
    web page, or get in touch with support to get the latest version.
  - support for HCS12X instructions
     Use the option -CpuHCS12X to enable this support.
  - support for logical address to global address conversion:
     Syntax: 
          MOVB #GLOBAL_PAGE(label), $10
          GLDAA GLOBAL(label)
     Note: Global fixups do need a linker version 5.0.22 or later.
  - support for global address to logical address conversion:
     Syntax:
          MOVB #LOGICAL_PAGE(label), $30
          LDAA LOGICAL(label)
      Note: Needs a linker version 5.0.22 or later.
  - tmp1, tmp2, tmp3, temp2 and temp3 are now all recogniced as register names.

  List of fixed Bugs
  - HCS12X: correction for PCR relative offsets for the MOVB/MOVW instruction in the first operand if the second operand is IDX1, IDX2 or [IDX2].
    The alpha2 release did not perform these correction offsets.


RELEASE NOTES AHC12 V5.0.26

  List of new Features
  - Message A1415: Cutting constant is not reporting the value as hexadecimal.
  - SR1-28205817: No warning for negative immediate anymore.
  - the assembler does offer the option -lasmc to configure the printed columns in the listing file.
    See manual for details.

  List of fixed Bugs

  - None.

RELEASE NOTES AHC12 V5.0.25

  List of new Features

  - This version uses a new FLEXlm daemon (the Metrowerks one). If you already have a
    license for the former version, you need to upgrade your license. Additionally be aware
    that in compliance with other Metrowerks tools the license (license.dat) file in the
    installation root (e.g. c:\metrowerks\license.dat, the installation script has created a
    shortcut to this file) is used. If such a license.dat exists, this file is used to check out the
    license. Only if this file does not exist, the one in C:\FLEXlm is used.
  - WB1-39024, The assembler does now support also to group macro argument calls using a new syntax.
    This new syntax does not have the restrictions of the old syntax.
    Note: inside of the new syntax, backwards slashes (\) and brackets ([ or ]) can be escaped
    by writing a backslash (\) before them.

       Test MACRO
            DC  \1
            ENDM

         Test <1,2>   ; old syntax
         Test [?1,2?] ; new syntax
         Test <1>2>   ; ambigous case of old syntax. Fails.
         Test [?1>2?] ; new syntax.
         Test [?"\]?"?] ; new syntax with escape.

  - New compatibility options. The new –Compat option allows to enable various
    compatibility constructs.

  List of fixed Bugs

  - R2940: exported absolute EQU label did export the wrong value. Example:

                    XDEF SizeExternal

                    ORG $0080
      var           RMB 3
      SizeExternal  EQU *-var

RELEASE NOTES AHC12 V5.0.24

  List of new Features

  - Following special macros are supported now in the environment too: {Compiler},
    {Project} and {System}. See manual for details.
    Note: Those macros are newly available during environment variable substitution.
    They are not automatically supported in filenames in general.
  - Wish R2750: new option –D so labels can be defined on the command line

  List of fixed Bugs

  - R2877: Option –nodebuginfo did create incorrect files.
  - R2778: line length specified with PLEN was not used for current page. The new page
    length was used for the following pages only.
  - R2754: labels in the form E0… to E9… were taken as floating point values, and not as
    labels.

RELEASE NOTES AHC12 V5.0.23

  List of new Features

  - Support for CodeWarrior IDE integration
  - The following transformation do no longer take place automatically:
    x & 0x0000ff -> LOW(x)
    x & 0x00ff00 -> HIGH(x)
    x & 0xff0000 -> PAGE(x)
    The reason is that the arithmetic is different from expected behavior.
    HIGH(x) corresponds to (x & 0x00ff00) >> 8, and this shift was not taken into account.
    Instead, use the operators directly.
    The treatment of these expressions for constants has not changed.
    For constants, the & was always performed the usual way.
  - R2652: It is possible now to change the color for messages in the tool window. It can be
    changed for WARNING, INFORMATION, ERROR, FATAL and for user messages as
    well. Following options are available for this: -WmsgCW, -WmsgCI, -WmsgCE, -
    WmsgCF and -WmsgCU. See manual for details.

  List of fixed Bugs

  - none.

  Demo Version Limitations

    If the assembler is running in demo mode (e.g. because there is no license file), there are
    following limitations:
    - Total code size for an application is limited to 1024 bytes for 8/16 bit CPU's and 3
      Kbytes for 32bit CPU's.
    - A remainder box is displayed whenever a linker parameter file is processed.

RELEASE NOTES AHC12 V5.0.22

  List of new Features

  - New option -ShowAboutDialog to show the about dialog
  - All tools have now a dialog to edit the environment (File->Configuration). E.g. to modify
    the GENPATH.  Note that this affects the project file only (and does NOT support the
    default.env)
  - The binary has now splitted into an *.exe and a *.dll part. This allows it to use as
    CodeWarrior plug-in.
  - Changed behaviour for MOVB/MOVW PCR relative addressing modes corrections. Now
    PCR relative constants are adapted too. This does only apply to the MOVB/MOVW
    instructions of the HC12 for PCR relative addressing mode.
    Note: For PC addressing mode, no correction is done.
    E.g. for "MOVB 1,PCR,2,PC" the source is now adapted, the destination is not.
  - Default object file format is now ELF/DWARF 2.
    When no object file format is explictely specified, previous versions did use the HIWARE
    Object File Format.
    This version is generating ELF Object File Format files. To generate HIWARE Object
    File Format files, please specify the -Fh option.

  List of fixed Bugs

  - Correction for offsets for PCR relative accesses for HC12 moves.
  - Crash for macro expansion when lines longer than 1024 characters were generated.


RELEASE NOTES AHC12 V5.0.21

  List of new Features

  - Handling of sections containing only constants have been improved (R2175). Now
    sections containing only constants, which are not explicitly specified in the
    PLACEMENT section of thePRM file, are placed next to the DEFAULT_ROM section
    by the linker. In the previous version these sections were allocated next to the
    DEFAULT_RAM section.

  List of fixed Bugs

  - HIWARE File format only: Sections containing only EQU * directives are now treated
    correctly by the assembler (R2272).
  - R2392: Internal error for option "-objn=..\…"
    Note: With an additional "=" too much.
    Compatibility
  - This assembler can only be used with Linker V5.0.9(beta0) or higher.
