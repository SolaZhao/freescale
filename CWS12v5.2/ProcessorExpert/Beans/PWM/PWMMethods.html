<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1250">
<title>
Component  documentation - Methods
</title>
<STYLE type="text/css">
body{
  background-color: white;
  margin:0px;
  font: 13px Helvetica Neue, Helvetica, Arial, sans-serif;
}
A:visited {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:link {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:active {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:hover {
	COLOR: #2D8AA7; TEXT-DECORATION: underline
}
.VSP {
	COLOR: #2D8AA7; FONT: bold italic 14px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.reflink {
	FONT: 11px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
 	COLOR: #2D8AA7;
}
.user_text {
	FONT: 12px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
	COLOR: #000000;
}
.bluetext {
  COLOR: #695F52;
}
.versionspec {
  padding:5px; 
  background-color: RGB(243, 242, 230);
  margin-top:5px;
  margin-bottom:5px;  
}
.versionspecdetail {
  padding:5px; 
  background-color: RGB(243, 242, 230);
  margin-top:5px;
  margin-bottom:5px;  
}
.versionspeclabel {
  font-style: italic;
}
LI.DEF {
  list-style-image: url(DefaultLI.gif) ;
}
LI.BAS {
	list-style-image: url(BasicLI.gif) ;
}
LI.ADV {
	list-style-image: url(AdvancedLI.gif) ;
}
LI.EXP {
	list-style-image: url(ExpertLI.gif) ;
}
.titlebox {  
  font: bold 18px Helvetica Neue, Helvetica, Arial, sans-serif;
  color: #51626F;
  margin-bottom: 10px;
}
.lefttitlebox {
  background-color:#C3CFD1;  
}
.lefttitle {
  color:#51626F;
  font: bold 11px Helvetica Neue, Helvetica, Arial, sans-serif;   
}
.beanname {
  font: bold 14px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
  padding-top:6px;
  padding-bottom:5px;
  margin-bottom: 5px;
  border-bottom-style: dotted;
  border-bottom-width: 1;  
}
.descrtext {
  font-style: italic;
  font: 14px/18px Helvetica Neue, Helvetica, Arial, sans-serif;  
  padding-bottom:9px;
}
.footer {
  color: #b0b0b0; 
  font: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
  text-align: center;
  border-top-style: solid;
  border-top-color: #BOBOBO;
  border-top-width: 1px;  
  padding-top: 5px;
  margin-top: 20px;
}
.info_name {
  font: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
  padding: 0px;
  color: black;
}
.info_text {
  font: 11px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.text_title {
  COLOR: #000000; 
  FONT: bold 14px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.descr_line {
  COLOR: gray; 
  FONT: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
}
</STYLE>

</head>

<body>

<table border="0"  cellspacing="0" cellpadding="0">
  <tr>
    <td valign="top" width="150" >
      <table  width="150" height="160" cellpadding="3" cellspacing="0" border="0">
        <tbody>
        <tr class="lefttitlebox">
          <td width="4"></td>
          <td align="center" valign="middle" height="30" width="128">
            <span class="lefttitle">
<b>PWM</b>
            </span>
          </td>
        </tr>
        <tr height="700">
          <td width="4"></td>
          <td width="128" valign="top">
            &nbsp;<br />
            <div class="reflink">
<!---HTMLLISTBEG_SHORT DON'T CHANGE THIS LINE-->
<a href="PWM.html">General Info</a><br />
<a href="PWMProperties.html">Properties</a><br />
<i>Methods</i><br />
<a href="PWMEvents.html">Events</a><br />
<a href="PWMUser Types.html">Types and constants</a><br />
<a href="PWMTypical Usage.html">Typical Usage</a><br />
<!---HTMLLISTEND DON'T CHANGE THIS LINE-->
<br /><br /><br />
<a href="../../DOCs/PredefSymbols.html">Types &amp; definitions</a><br/>
<a href="../../DOCs/BEANindex.html">Component Index</a><br/>
<a href="../../DOCs/CPUindex.html">CPU Component Index</a><br/>
<a href="../../DOCs/EmbeddedBeans.html">Embedded Components</a><br/>
<a href="../../DOCs/BeanCategories.html">Component Categories</a><br/>

<br /><br /><br />
<center>
<img src="PWM_b.gif" alt="Component icon"/>


</center>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </td>
    <td width="1" class="lefttitlebox" valign="top">
      <table class="lefttitlebox" width="1" cellpadding="0" cellspacing="0" height="100%" border="0">
        <tr class="lefttitlebox"><td width="1"></td></tr>
      </table>
    </td>
    <td style="padding-left:15px;padding-right:10px;" valign="top" align="left" width="100%" >

         <div class="titlebox">
            <div class="beanname">
              Component
              
              
              PWM
            </div>
            <div class="descrtext">Pulse width modulation</div>
            <div class="info_name">Component Level: <span class="info_text"><a href="../../DOCs/BeanCategoriesInfo.html#LevelAbstraction">High</a></span></div>
            <div class="info_name">Category: 
              <span class="info_text">
              <a href="../../DOCs/BeanCategoriesInfo.html">CPU Internal Peripherals-Timer</a>
              
              </span>
            </div>
          </div>

         <div class="text_title">
              Methods:
    		 </div>		 
    		 <div class="descr_line">                  
              (Methods are user-callable functions/subroutines intended for
               the component functions control. Please see the <a href="../../DOCs/EmbeddedBeans.html#Methods">Embedded Components page</a> for more information.)                   
         </div>
                  
         <div class="user_text">
            <ul>
<!---USERBEG DON'T CHANGE THIS LINE-->

<!---USEREND DON'T CHANGE THIS LINE-->
<li><a name="Enable">
<b>Enable</b></a>
 - This method enables the component - it starts the signal generation. Events may be generated (<a href="PWMMethods.html#DisableEvent">DisableEvent</a>/<a href="PWMMethods.html#EnableEvent">EnableEvent</a>).
<ul>
<br /><i>ANSIC prototype:</i> byte Enable(void)<br />
<li><i>Return value:byte</i> - Error code, possible codes:<br />     ERR_OK - OK<br />     ERR_SPEED - This device does not work in the active speed mode
</li>
</ul><br />
</li>
<li><a name="Disable">
<b>Disable</b></a>
 - This method disables the component - it stops the signal generation and events calling. When the timer is disabled, it is possible to call <a href="PWMMethods.html#ClrValue">ClrValue</a> and <a href="PWMMethods.html#SetValue">SetValue</a> methods.
<ul>
<br /><i>ANSIC prototype:</i> byte Disable(void)<br />
<li><i>Return value:byte</i> - Error code, possible codes:<br />     ERR_OK - OK<br />     ERR_SPEED - This device does not work in the active speed mode
</li>
</ul><br />
</li>
<li><a name="EnableEvent">
<b>EnableEvent</b></a>
 - This method enables the events. The method is available only if any event is selected.
<ul>
<br /><i>ANSIC prototype:</i> byte EnableEvent(void)<br />
<li><i>Return value:byte</i> - Error code, possible codes:<br />     ERR_OK - OK<br />     ERR_SPEED - This device does not work in the active speed mode
</li>
</ul><br />
</li>
<li><a name="DisableEvent">
<b>DisableEvent</b></a>
 - This method disables the events. The method is available only if any event is selected.
<ul>
<br /><i>ANSIC prototype:</i> byte DisableEvent(void)<br />
<li><i>Return value:byte</i> - Error code, possible codes:<br />     ERR_OK - OK<br />     ERR_SPEED - This device does not work in the active speed mode
</li>
</ul><br />
</li>
<li><a name="SetRatio8">
<b>SetRatio8</b></a>
 - This method sets a new duty-cycle ratio. Ratio is expressed as an 8-bit unsigned integer number. 0 - FF value is proportional to ratio 0 - 100%. The method is available only if it is not selected list of predefined values in <a href="PWMProperties.html#InitDuty">Starting pulse width</a> property.
<br/>Note: Calculated duty depends on the timer capabilities and on the selected period.
<ul>
<br /><i>ANSIC prototype:</i> byte SetRatio8(byte Ratio)<br />
<li><i>Ratio:byte</i> - Ratio to set. 0 - 255 value is proportional to ratio 0 - 100%</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />     ERR_OK - OK<br />     ERR_SPEED - This device does not work in the active speed mode
</li>
</ul><br />
</li>
<li><a name="SetRatio16">
<b>SetRatio16</b></a>
 - This method sets a new duty-cycle ratio. Ratio is expressed as a 16-bit unsigned integer number. 0 - FFFF value is proportional to ratio 0 - 100%. The method is available only if it is not selected list of predefined values in <a href="PWMProperties.html#InitDuty">Starting pulse width</a> property.
<br/>Note: Calculated duty depends on the timer possibilities and on the selected period.
<ul>
<br /><i>ANSIC prototype:</i> byte SetRatio16(word Ratio)<br />
<li><i>Ratio:word</i> - Ratio to set. 0 - 65535 value is proportional to ratio 0 - 100%</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />     ERR_OK - OK<br />     ERR_SPEED - This device does not work in the active speed mode
</li>
</ul><br />
</li>
<li><a name="SetDutyTicks16">
<b>SetDutyTicks16</b></a>
 - This method sets the new duty value of the output signal. The duty is expressed in CPU ticks as a 16-bit unsigned integer number. The method is available only if it is not selected list of predefined values in <a href="PWMProperties.html#InitDuty">Starting pulse width</a> property.
<ul>
<br /><i>ANSIC prototype:</i> byte SetDutyTicks16(word Ticks)<br />
<li><i>Ticks:word</i> - Duty to set in Xtal ticks</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />     ERR_OK - OK<br />     ERR_SPEED - This device does not work in the active speed mode<br />     ERR_MATH - Overflow during evaluation<br />     ERR_RANGE - Parameter out of range
</li>
</ul><br />
</li>
<li><a name="SetDutyTicks32">
<b>SetDutyTicks32</b></a>
 - This method sets the new duty value of the output signal. The duty is expressed in CPU ticks as a 32-bit unsigned integer number. The method is available only if it is not selected list of predefined values in <a href="PWMProperties.html#InitDuty">Starting pulse width</a> property.
<ul>
<br /><i>ANSIC prototype:</i> byte SetDutyTicks32(dword Ticks)<br />
<li><i>Ticks:dword</i> - Duty to set in Xtal ticks</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />     ERR_OK - OK<br />     ERR_SPEED - This device does not work in the active speed mode<br />     ERR_MATH - Overflow during evaluation<br />     ERR_RANGE - Parameter out of range
</li>
</ul><br />
</li>
<li><a name="SetDutyUS">
<b>SetDutyUS</b></a>
 - This method sets the new duty value of the output signal. The duty is expressed in microseconds as a 16-bit unsigned integer number. The method is available only if it is not selected list of predefined values in <a href="PWMProperties.html#InitDuty">Starting pulse width</a> property.
<ul>
<br /><i>ANSIC prototype:</i> byte SetDutyUS(word Time)<br />
<li><i>Time:word</i> - Duty to set [in microseconds]</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />     ERR_OK - OK<br />     ERR_SPEED - This device does not work in the active speed mode<br />     ERR_MATH - Overflow during evaluation<br />     ERR_RANGE - Parameter out of range
</li>
</ul><br />
</li>
<li><a name="SetDutyMS">
<b>SetDutyMS</b></a>
 - This method sets the new duty value of the output signal. The duty is expressed in milliseconds as a 16-bit unsigned integer number. The method is available only if it is not selected list of predefined values in <a href="PWMProperties.html#InitDuty">Starting pulse width</a> property.
<ul>
<br /><i>ANSIC prototype:</i> byte SetDutyMS(word Time)<br />
<li><i>Time:word</i> - Duty to set [in milliseconds]</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />     ERR_OK - OK<br />     ERR_SPEED - This device does not work in the active speed mode<br />     ERR_MATH - Overflow during evaluation<br />     ERR_RANGE - Parameter out of range
</li>
</ul><br />
</li>
<li><a name="SetDutySec">
<b>SetDutySec</b></a>
 - This method sets the new duty value of the output signal. The duty is expressed in seconds as a 16-bit unsigned integer number. The method is available only if it is not selected list of predefined values in <a href="PWMProperties.html#InitDuty">Starting pulse width</a> property.
<ul>
<br /><i>ANSIC prototype:</i> byte SetDutySec(word Time)<br />
<li><i>Time:word</i> - Duty to set [in seconds]</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />     ERR_OK - OK<br />     ERR_SPEED - This device does not work in the active speed mode<br />     ERR_MATH - Overflow during evaluation<br />     ERR_RANGE - Parameter out of range
</li>
</ul><br />
</li>
<li><a name="SetDutyReal">
<b>SetDutyReal</b></a>
 - This method sets the new duty value of the output signal. The duty is expressed in seconds as a real number. In order to use this method the compiler have to support floating point operations. The method is available only if it is not selected list of predefined values in <a href="PWMProperties.html#InitDuty">Starting pulse width</a> property.
<ul>
<br /><i>ANSIC prototype:</i> byte SetDutyReal(float Time)<br />
<li><i>Time:float</i> - Duty to set [in seconds]</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />     ERR_OK - OK<br />     ERR_SPEED - This device does not work in the active speed mode<br />     ERR_MATH - Overflow during evaluation<br />     ERR_RANGE - Parameter out of range
</li>
</ul><br />
</li>
<li class="versionspec"><span class="versionspeclabel">This method is not supported for 56800 and MCF families yet.</span>
<ul>
<li><a name="SetDutyMode">
<b>SetDutyMode</b></a>
 - This method switches the component to a specified mode (changes the duty using the mode values). This method reduces the time needed for setting of a new period value. This method is enabled only if a list of possible period settings is specified at design time in <a href="PWMProperties.html#InitDuty">Starting pulse width</a> property (for details about settings refer to chapter
<a href="../../DOCs/Beantiming.html">Timing dialog box</a>&nbsp;-&nbsp;Runtime setting&nbsp;-&nbsp;from a list of values). Each of these settings represents a <i><b>mode</b></i> and Processor Expert assigns them a <i>mode identifier</i>, which can be used as a parameter of this method (see generated header file). The prescaler and compare values corresponding to each mode are calculated at a design time, so run-time calculations are not necessary.
<ul>
<br /><i>ANSIC prototype:</i> byte SetDutyMode(byte Mode)<br />
<li><i>Mode:byte</i> - Specifies a Mode to switch to</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />     ERR_OK - OK<br />     ERR_SPEED - This device does not work in the active speed mode<br />     ERR_VALUE - Value out of range, requested timing mode is not defined
</li>
</ul><br />
</li>
</ul>
</li>
<li><a name="SetValue">
<b>SetValue</b></a>
 - This method sets (set to "1" = "High") timer flip-flop output signal level. It allows to the user to directly set the output pin value (=flip-flop state), and can set the signal polarity. This method only works when the timer is disabled (<a href="PWMMethods.html#Disable">Disable</a> method) otherwise it returns the error code. <a href="PWMMethods.html#ClrValue">ClrValue</a> and <a href="PWMMethods.html#SetValue">SetValue</a> methods are used for setting the initial state.
<ul>
<br /><i>ANSIC prototype:</i> byte SetValue(void)<br />
<li><i>Return value:byte</i> - Error code, possible codes:<br />     ERR_OK - OK<br />     ERR_SPEED - This device does not work in the active speed mode<br />     ERR_ENABLED - Component is enabled. Component must be disabled (see &quot;Disable method&quot;)
</li>
</ul><br />
</li>
<li><a name="ClrValue">
<b>ClrValue</b></a>
 - This method clears (set to "0" = "Low") timer flip-flop output signal level. It allows to the user to directly set the output pin value (=flip-flop state), and can set the signal polarity. This method only works when the timer is disabled (<a href="PWMMethods.html#Disable">Disable</a> otherwise it returns the error code. <a href="PWMMethods.html#ClrValue">ClrValue</a> and <a href="PWMMethods.html#SetValue">SetValue</a> methods are used for setting the initial state.
<ul>
<br /><i>ANSIC prototype:</i> byte ClrValue(void)<br />
<li><i>Return value:byte</i> - Error code, possible codes:<br />     ERR_OK - OK<br />     ERR_SPEED - This device does not work in the active speed mode<br />     ERR_ENABLED - Component is enabled. Component must be disabled (see &quot;Disable method&quot;)
</li>
</ul><br />
</li>
<li class="versionspecdetail"><span class="versionspeclabel">Methods only if peripheral support  Emergency shutdown feature.</span>
<ul>
<li><a name="RestartPWM">
<b>RestartPWM</b></a>
 - The PWM can only be restarted if the PWM channel input is de-asserted. PWM channels start running after corresponding counter passes next &quot;counter == 0&quot; phase.<br />The method is available only if Emergency Shutdown feature is enabled (in Properties pane of the component) .
<ul>
<br /><i>ANSIC prototype:</i> void RestartPWM(void)<br />
</ul><br />
</li>
<li><a name="GetShutdownStatus">
<b>GetShutdownStatus</b></a>
 - This method returns the actual emergency shutdown status information if the input pin is asserted or de-asserted by <a href="PWMProperties.html">Input active level</a>.<p/>
The method is available only when Emergency Shutdown feature is enabled (in Properties pane of the component) .
<ul>
<br /><i>ANSIC prototype:</i> bool GetShutdownStatus(void)<br />
<li><i>Return value:bool</i> - 
     <a href="..\..\DOCs\BeanCodeTypicalUsage.html#Bool">false</a> - input pin is de-asserted (status inactive)
     <a href="..\..\DOCs\BeanCodeTypicalUsage.html#Bool">true</a> - input pin is asserted (status active)
</li>
</ul><br />
</li>
</ul>
</li>
           </ul>
<!---USERBEG DON'T CHANGE THIS LINE-->

<!---USEREND DON'T CHANGE THIS LINE-->
<p>
<br />
Note: Some methods can be implemented as macros.
</p>
          </div>
          <p class="footer">
            PROCESSOR EXPERT is trademark of Freescale Semiconductor, Inc.
            <br />
            Copyright 1997 - 2010 Freescale Semiconductor, Inc.
          </p>
    </td>
  </tr>

</table>

</body>
</html>
