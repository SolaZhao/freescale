<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1250">
<title>
Component  documentation - Methods
</title>
<STYLE type="text/css">
body{
  background-color: white;
  margin:0px;
  font: 13px Helvetica Neue, Helvetica, Arial, sans-serif;
}
A:visited {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:link {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:active {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:hover {
	COLOR: #2D8AA7; TEXT-DECORATION: underline
}
.VSP {
	COLOR: #2D8AA7; FONT: bold italic 14px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.reflink {
	FONT: 11px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
 	COLOR: #2D8AA7;
}
.user_text {
	FONT: 12px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
	COLOR: #000000;
}
.bluetext {
  COLOR: #695F52;
}
.versionspec {
  padding:5px; 
  background-color: RGB(243, 242, 230);
  margin-top:5px;
  margin-bottom:5px;  
}
.versionspecdetail {
  padding:5px; 
  background-color: RGB(243, 242, 230);
  margin-top:5px;
  margin-bottom:5px;  
}
.versionspeclabel {
  font-style: italic;
}
LI.DEF {
  list-style-image: url(DefaultLI.gif) ;
}
LI.BAS {
	list-style-image: url(BasicLI.gif) ;
}
LI.ADV {
	list-style-image: url(AdvancedLI.gif) ;
}
LI.EXP {
	list-style-image: url(ExpertLI.gif) ;
}
.titlebox {  
  font: bold 18px Helvetica Neue, Helvetica, Arial, sans-serif;
  color: #51626F;
  margin-bottom: 10px;
}
.lefttitlebox {
  background-color:#C3CFD1;  
}
.lefttitle {
  color:#51626F;
  font: bold 11px Helvetica Neue, Helvetica, Arial, sans-serif;   
}
.beanname {
  font: bold 14px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
  padding-top:6px;
  padding-bottom:5px;
  margin-bottom: 5px;
  border-bottom-style: dotted;
  border-bottom-width: 1;  
}
.descrtext {
  font-style: italic;
  font: 14px/18px Helvetica Neue, Helvetica, Arial, sans-serif;  
  padding-bottom:9px;
}
.footer {
  color: #b0b0b0; 
  font: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
  text-align: center;
  border-top-style: solid;
  border-top-color: #BOBOBO;
  border-top-width: 1px;  
  padding-top: 5px;
  margin-top: 20px;
}
.info_name {
  font: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
  padding: 0px;
  color: black;
}
.info_text {
  font: 11px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.text_title {
  COLOR: #000000; 
  FONT: bold 14px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.descr_line {
  COLOR: gray; 
  FONT: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
}
</STYLE>

</head>

<body>

<table border="0"  cellspacing="0" cellpadding="0">
  <tr>
    <td valign="top" width="150" >
      <table  width="150" height="160" cellpadding="3" cellspacing="0" border="0">
        <tbody>
        <tr class="lefttitlebox">
          <td width="4"></td>
          <td align="center" valign="middle" height="30" width="128">
            <span class="lefttitle">
<b>BDLC</b>
            </span>
          </td>
        </tr>
        <tr height="700">
          <td width="4"></td>
          <td width="128" valign="top">
            &nbsp;<br />
            <div class="reflink">
<!---HTMLLISTBEG_SHORT DON'T CHANGE THIS LINE-->
<a href="BDLC.html">General Info</a><br />
<a href="BDLCProperties.html">Properties</a><br />
<i>Methods</i><br />
<a href="BDLCEvents.html">Events</a><br />
<a href="BDLCUser Types.html">Types and constants</a><br />
<a href="BDLCTypical Usage.html">Typical Usage</a><br />
<!---HTMLLISTEND DON'T CHANGE THIS LINE-->
<br /><br /><br />
<a href="../../DOCs/PredefSymbols.html">Types &amp; definitions</a><br/>
<a href="../../DOCs/BEANindex.html">Component Index</a><br/>
<a href="../../DOCs/CPUindex.html">CPU Component Index</a><br/>
<a href="../../DOCs/EmbeddedBeans.html">Embedded Components</a><br/>
<a href="../../DOCs/BeanCategories.html">Component Categories</a><br/>

<br /><br /><br />
<center>
<img src="BDLC_b.gif" alt="Component icon"/>


</center>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </td>
    <td width="1" class="lefttitlebox" valign="top">
      <table class="lefttitlebox" width="1" cellpadding="0" cellspacing="0" height="100%" border="0">
        <tr class="lefttitlebox"><td width="1"></td></tr>
      </table>
    </td>
    <td style="padding-left:15px;padding-right:10px;" valign="top" align="left" width="100%" >

         <div class="titlebox">
            <div class="beanname">
              Component
              
              
              BDLC
            </div>
            <div class="descrtext">BDLC serial communication</div>
            <div class="info_name">Component Level: <span class="info_text"><a href="../../DOCs/BeanCategoriesInfo.html#LevelAbstraction">High</a></span></div>
            <div class="info_name">Category: 
              <span class="info_text">
              <a href="../../DOCs/BeanCategoriesInfo.html">CPU Internal Peripherals-Communication</a>
              
              </span>
            </div>
          </div>

         <div class="text_title">
              Methods:
    		 </div>		 
    		 <div class="descr_line">                  
              (Methods are user-callable functions/subroutines intended for
               the component functions control. Please see the <a href="../../DOCs/EmbeddedBeans.html#Methods">Embedded Components page</a> for more information.)                   
         </div>
                  
         <div class="user_text">
            <ul>
<!---USERBEG DON'T CHANGE THIS LINE-->

<!---USEREND DON'T CHANGE THIS LINE-->
<li><a name="Enable">
<b>Enable</b></a>
 - Enables the component operation.
<ul>
<br /><i>ANSIC prototype:</i> byte Enable(void)<br />
<li><i>Return value:byte</i> - Error code, possible codes:<br />    ERR_OK - OK<br />    ERR_SPEED - This device does not work in the active speed mode.
</li>
</ul><br />
</li>
<li><a name="Disable">
<b>Disable</b></a>
 - Disables the component operation.
<ul>
<br /><i>ANSIC prototype:</i> byte Disable(void)<br />
<li><i>Return value:byte</i> - Error code, possible codes:<br />    ERR_OK - OK<br />    ERR_SPEED - This device does not work in the active speed mode.
</li>
</ul><br />
</li>
<li><a name="EnableEvent">
<b>EnableEvent</b></a>
 - This method enables the event(s).
<ul>
<br /><i>ANSIC prototype:</i> byte EnableEvent(void)<br />
<li><i>Return value:byte</i> - Error code, possible codes:<br />    ERR_OK - OK<br />    ERR_SPEED - This device does not work in the active speed mode.
</li>
</ul><br />
</li>
<li><a name="DisableEvent">
<b>DisableEvent</b></a>
 - This method disables the event(s).
<ul>
<br /><i>ANSIC prototype:</i> byte DisableEvent(void)<br />
<li><i>Return value:byte</i> - Error code, possible codes:<br />    ERR_OK - OK<br />    ERR_SPEED - This device does not work in the active speed mode.
</li>
</ul><br />
</li>
<li><a name="SendBlock">
<b>SendBlock</b></a>
 - This method sends the block of bytes specified by its parameters. No additional buffer is used so the user must not change the data before the end of transmission, indicated by the OnTransmitData event. Status of the finished transmission can be obtained by the GetError method.
<ul>
<br /><i>ANSIC prototype:</i> byte SendBlock(byte *Data, word Length)<br />
<li><i>Data: Pointer to byte</i> - Pointer to data</li>
<li><i>Length:word</i> - Length of the data block in bytes (number of bytes should not exceed 12 bytes for J1850 protocol)</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />    ERR_OK - OK<br />    ERR_SPEED - This device does not work in the active speed mode.<br />    ERR_TXFULL - Transmitting of the previous message is not finished yet.
</li>
</ul><br />
</li>
<li><a name="RecvBlock">
<b>RecvBlock</b></a>
 - This method reads a block of bytes from the input data buffer (see &quot;Input data buffer size&quot; property). In case of the ERR_OVERRUN error, the data are returned. In case of another error, no data are returned.
<ul>
<br /><i>ANSIC prototype:</i> byte RecvBlock(byte *Data, word Size, word *Length)<br />
<li><i>Data: Pointer to byte</i> - Pointer to the buffer for received data</li>
<li><i>Size:word</i> - Size of the buffer</li>
<li><i>Length: Pointer to word</i> - Length of the received block (for J1850 protocol number of bytes should not exceed 12 bytes)</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />    ERR_OK - OK<br />    ERR_SPEED - This device does not work in the active speed mode.<br />    ERR_COMMON - A communication error occurred. Particular error can be analyzed by the GetError method.<br />    ERR_OVERRUN - Receive buffer overflow.<br />    ERR_RXEMPTY - Receive buffer is empty.
</li>
</ul><br />
</li>
<li><a name="RecvChar">
<b>RecvChar</b></a>
 - If there are any data received, the method returns one byte from the input buffer. To receive a complete message use the ReceiveBlock method instead.
<ul>
<br /><i>ANSIC prototype:</i> byte RecvChar(byte *Chr)<br />
<li><i>Chr: Pointer to byte</i> - Poiter to a received character</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />    ERR_OK - OK<br />    ERR_SPEED - This device does not work in the active speed mode.<br />    ERR_COMMON - A communication error occurred. The particular error type can be determined with the GetError method.<br />    ERR_OVERRUN - Receive buffer overflow.<br />    ERR_RXEMPTY - Receive buffer is empty.
</li>
</ul><br />
</li>
<li><a name="SetIFR">
<b>SetIFR</b></a>
 - Sets the In-Frame response (IFR) data that are transmitted as a response to the received message. Method should be called before start of the message reception. No additional buffer is used, therefore the user must not change the data before the finish of the received frame indicated by OnReceiveData event. This method is enabled only if the IFR type property is different from &quot;No IFR&quot; and at the same time non-zero IFR buffer size is set.
<ul>
<br /><i>ANSIC prototype:</i> byte SetIFR(word Length, byte *Data)<br />
<li><i>Length:word</i> - Length of the IFR.</li>
<li><i>Data: Pointer to byte</i> - Pointer to IFR data</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />    ERR_OK - OK<br />    ERR_SPEED - This device does not work in the active speed mode.<br />    ERR_RANGE - Number of IFR bytes does not correspond to selected IFR type.
</li>
</ul><br />
</li>
<li><a name="RecvIFR">
<b>RecvIFR</b></a>
 - This method reads the In-Frame Response (IFR) data from the input IFR buffer (see &quot;Input IFR buffer size&quot; property). In case of the ERR_OVERRUN error, the data are returned. In case of another error, no data are returned. This method is enabled only if a non-zero IFR buffer size is set.
<ul>
<br /><i>ANSIC prototype:</i> byte RecvIFR(byte *Data, word Size, word *Length)<br />
<li><i>Data: Pointer to byte</i> - Pointer to the buffer for received IFR data.</li>
<li><i>Size:word</i> - Size of the buffer (1. parameter)</li>
<li><i>Length: Pointer to word</i> - Length of the received IFR block (for J1850 protocol number of bytes should not exceed 12 bytes)</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />    ERR_OK - OK<br />    ERR_SPEED - This device does not work in the active speed mode.<br />    ERR_COMMON - A communication error has occurred. The particular error type can be determined by calling the GetError method.<br />    ERR_OVERRUN - Receive IFR buffer overflow.<br />    ERR_RXEMPTY - Receive IFR buffer is empty.
</li>
</ul><br />
</li>
<li><a name="GetCharsInRxBuf">
<b>GetCharsInRxBuf</b></a>
 - This method returns number of characters in the receive buffer.
<ul>
<br /><i>ANSIC prototype:</i> word GetCharsInRxBuf(void)<br />
<li><i>Return value:word</i> - A number of bytes in the receive buffer
</li>
</ul><br />
</li>
<li><a name="GetCharsInIFRbuf">
<b>GetCharsInIFRbuf</b></a>
 - The method returns number of bytes in the In-Frame response (IFR) buffer. This method is enabled only if a non-zero IFR buffer size is set.
<ul>
<br /><i>ANSIC prototype:</i> word GetCharsInIFRbuf(void)<br />
<li><i>Return value:word</i> - Number of bytes in IFR (In-Frame Response) buffer
</li>
</ul><br />
</li>
<li><a name="ClearRxBuf">
<b>ClearRxBuf</b></a>
 - Clears the receive buffer.
<ul>
<br /><i>ANSIC prototype:</i> byte ClearRxBuf(void)<br />
<li><i>Return value:byte</i> - Error code, possible codes:<br />    ERR_OK - OK<br />    ERR_SPEED - This device does not work in the active speed mode.
</li>
</ul><br />
</li>
<li><a name="ClearIFRbuf">
<b>ClearIFRbuf</b></a>
 - Clears the receive In-Frame response (IFR) buffer. This method is enabled only if a non-zero input IFR buffer size is defined.
<ul>
<br /><i>ANSIC prototype:</i> byte ClearIFRbuf(void)<br />
<li><i>Return value:byte</i> - Error code, possible codes:<br />    ERR_OK - OK<br />    ERR_SPEED - This device does not work in the active speed mode.
</li>
</ul><br />
</li>
<li><a name="GetError">
<b>GetError</b></a>
 - This method returns an error flags. See &quot;Types and constants&quot; page of the help
<ul>
<br /><i>ANSIC prototype:</i> byte GetError(<i>ComponentName_</i>TError *Err)<br />
<li><i>Err: Pointer to <a href="BDLCUser Types.html#TError"><i>ComponentName_</i>TError</a></i> - Returns structure containing error flags.</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />    ERR_OK - OK<br />    ERR_SPEED - This device does not work in the active speed mode.
</li>
</ul><br />
</li>
<li><a name="IgnoreMessage">
<b>IgnoreMessage</b></a>
 - Method sets the ignore message flag to cancel reception of the message being received. (see the OnRxChar event). The flag is cleared automatically by the start of a new frame reception.
<ul>
<br /><i>ANSIC prototype:</i> byte IgnoreMessage(void)<br />
<li><i>Return value:byte</i> - Error code, possible codes:<br />    ERR_OK - OK<br />    ERR_SPEED - This device does not work in the active speed mode.<br />    ERR_BUSY - Transmission is in progress. Message cannot be ignored.
</li>
</ul><br />
</li>
<li><a name="Set4xSpeed">
<b>Set4xSpeed</b></a>
 - Method sets the data transfer rate to be 4 times higher. In this mode the transmission is disabled (only the reception is available).
<ul>
<br /><i>ANSIC prototype:</i> byte Set4xSpeed(bool Speed)<br />
<li><i>Speed:bool</i> - <a href="..\..\DOCs\BeanCodeTypicalUsage.html#Bool">true</a> = 4x speed, <a href="..\..\DOCs\BeanCodeTypicalUsage.html#Bool">false</a> = normal speed</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />    ERR_OK - OK<br />    ERR_SPEED - This device does not work in the active speed mode.
</li>
</ul><br />
</li>
<li><a name="SetLoopbackMode">
<b>SetLoopbackMode</b></a>
 - This method sets the device into the  loopback mode. In the digital loopback mode the receive pin is internally connected to the transmit pin.
<ul>
<br /><i>ANSIC prototype:</i> byte SetLoopbackMode(byte Mode)<br />
<li><i>Mode:byte</i> - 0 - no loopback<br />                       1 - analog loopback<br />                       2 - digital loopback<br />                       3 - both, analog and digital loopback</li>
<li><i>Return value:byte</i> - Error code, possible codes:<br />    ERR_OK - OK<br />    ERR_SPEED - This device does not work in the active speed mode.<br />    ERR_RANGE - Parameter is out of range.
</li>
</ul><br />
</li>

           </ul>
<!---USERBEG DON'T CHANGE THIS LINE-->

<!---USEREND DON'T CHANGE THIS LINE-->
<p>
<br />
Note: Some methods can be implemented as macros.
</p>
          </div>
          <p class="footer">
            PROCESSOR EXPERT is trademark of Freescale Semiconductor, Inc.
            <br />
            Copyright 1997 - 2010 Freescale Semiconductor, Inc.
          </p>
    </td>
  </tr>

</table>

</body>
</html>
