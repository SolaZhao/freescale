<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1250">
<title>
Component  documentation - Events
</title>
<STYLE type="text/css">
body{
  background-color: white;
  margin:0px;
  font: 13px Helvetica Neue, Helvetica, Arial, sans-serif;
}
A:visited {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:link {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:active {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:hover {
	COLOR: #2D8AA7; TEXT-DECORATION: underline
}
.VSP {
	COLOR: #2D8AA7; FONT: bold italic 14px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.reflink {
	FONT: 11px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
 	COLOR: #2D8AA7;
}
.user_text {
	FONT: 12px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
	COLOR: #000000;
}
.bluetext {
  COLOR: #695F52;
}
.versionspec {
  padding:5px; 
  background-color: RGB(243, 242, 230);
  margin-top:5px;
  margin-bottom:5px;  
}
.versionspecdetail {
  padding:5px; 
  background-color: RGB(243, 242, 230);
  margin-top:5px;
  margin-bottom:5px;  
}
.versionspeclabel {
  font-style: italic;
}
LI.DEF {
  list-style-image: url(DefaultLI.gif) ;
}
LI.BAS {
	list-style-image: url(BasicLI.gif) ;
}
LI.ADV {
	list-style-image: url(AdvancedLI.gif) ;
}
LI.EXP {
	list-style-image: url(ExpertLI.gif) ;
}
.titlebox {  
  font: bold 18px Helvetica Neue, Helvetica, Arial, sans-serif;
  color: #51626F;
  margin-bottom: 10px;
}
.lefttitlebox {
  background-color:#C3CFD1;  
}
.lefttitle {
  color:#51626F;
  font: bold 11px Helvetica Neue, Helvetica, Arial, sans-serif;   
}
.beanname {
  font: bold 14px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
  padding-top:6px;
  padding-bottom:5px;
  margin-bottom: 5px;
  border-bottom-style: dotted;
  border-bottom-width: 1;  
}
.descrtext {
  font-style: italic;
  font: 14px/18px Helvetica Neue, Helvetica, Arial, sans-serif;  
  padding-bottom:9px;
}
.footer {
  color: #b0b0b0; 
  font: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
  text-align: center;
  border-top-style: solid;
  border-top-color: #BOBOBO;
  border-top-width: 1px;  
  padding-top: 5px;
  margin-top: 20px;
}
.info_name {
  font: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
  padding: 0px;
  color: black;
}
.info_text {
  font: 11px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.text_title {
  COLOR: #000000; 
  FONT: bold 14px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.descr_line {
  COLOR: gray; 
  FONT: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.code {
  background-color: RGB(243, 242, 230);
  padding: 10px;
  white-space: pre;
  font-family: Courier New, Monospace;
}
</STYLE>

</head>

<body>

<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td valign="top" width="150" >
      <table  width="150" height="160" cellpadding="3" cellspacing="0" border="0">
        <tbody>
        <tr class="lefttitlebox">
          <td width="4"></td>
          <td align="center" valign="middle" height="30" width="128">
            <span class="lefttitle">
<b>IntFLASH</b>
            </span>
          </td>
        </tr>
        <tr height="700">
          <td width="4"></td>
          <td width="128" valign="top">
            &nbsp;<br />
            <div class="reflink">
<!---HTMLLISTBEG_SHORT DON'T CHANGE THIS LINE-->
<a href="IntFLASH.html">General Info</a><br />
<a href="IntFLASHProperties.html">Properties</a><br />
<a href="IntFLASHMethods.html">Methods</a><br />
<i>Events</i><br />
<a href="IntFLASHUser Types.html">Types and constants</a><br />
<a href="IntFLASHTypical Usage.html">Typical Usage</a><br />
<!---HTMLLISTEND DON'T CHANGE THIS LINE-->
<br /><br /><br />
<a href="../../DOCs/PredefSymbols.html">Types &amp; definitions</a><br/>
<a href="../../DOCs/BEANindex.html">Component Index</a><br/>
<a href="../../DOCs/CPUindex.html">CPU Component Index</a><br/>
<a href="../../DOCs/EmbeddedBeans.html">Embedded Components</a><br/>
<a href="../../DOCs/BeanCategories.html">Component Categories</a><br/>

<br /><br /><br />
<center>
<img src="IntFLASH_b.gif" alt="Component icon"/>


</center>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </td>
    <td width="1" class="lefttitlebox" valign="top">
      <table class="lefttitlebox" width="1" cellpadding="0" cellspacing="0" height="100%" border="0">
        <tr class="lefttitlebox"><td width="1"></td></tr>
      </table>
    </td>
    <td style="padding-left:15px;padding-right:10px;" valign="top" align="left" width="100%">

           <div class="titlebox">
              <div class="beanname">
                Component
                
                
                IntFLASH
              </div>
              <div class="descrtext">Internal FLASH</div>
              <div class="info_name">Component Level: <span class="info_text"><a href="../../DOCs/BeanCategoriesInfo.html#LevelAbstraction">High</a></span></div>
              <div class="info_name">Category: 
                <span class="info_text">
                <a href="../../DOCs/BeanCategoriesInfo.html">CPU Internal Peripherals-Memory</a>
                
                </span>
              </div>
            </div>

     <div class="text_title">
          Events:
		 </div>		 
		 <div class="descr_line">                  
         (Events are call-back functions called when an important event occurs.
          Please see the <a href="../../DOCs/EmbeddedBeans.html#Events">Embedded Components page</a> for more information.)                   
     </div>
     <div class="user_text">
<div class="user_text" style="margin-top:10px">
<ul>
<li>
<a name="EventModule">
<b>EventModule</b>
</a>
 - Name of the user module (without extension), where the events from this component are placed.
</li>
<li>
<a name="OnWritePageEnd">
<b>OnWritePageEnd</b>
</a>
 - Event is called after entire virtual page is written to FLASH. This event is available only if <a href="IntFLASHProperties.html">Virtual page</a> property is selected and an <a href="IntFLASHProperties.html#IntService">Interrupt service/event</a> is selected.
<ul>
<br /><i>ANSIC prototype:</i> void OnWritePageEnd(void)<br />
<li><i>Priority</i> - Priority of the event routine. Default value is based on the interrupt priority defined in property <b>Interrupt priority</b>. For details see description below of the page.</li>
</ul><br />
</li>
<li>
<a name="OnWriteEnd">
<b>OnWriteEnd</b>
</a>
 - Event is called after a write operation to FLASH memory is finished. This event is available only if an and an <a href="IntFLASHProperties.html#IntService">Interrupt service/event</a> is selected.
<ul>
<br /><i>ANSIC prototype:</i> void OnWriteEnd(void)<br />
<li><i>Priority</i> - Priority of the event routine. Default value is based on the interrupt priority defined in property <b>Interrupt priority</b>. For details see description below of the page.</li>
</ul><br />
</li>
<li>
<a name="OnSaveBuffer">
<b>OnSaveBuffer</b>
</a>
 -  This event is only available if <tt>Safe write</tt> is selected in <a href="IntFLASHProperties.html">Write method</a> property and "Buffer type" property is set to <tt>Implemented by the user</tt>. The event is called when it is needed to save the content of FLASH before erasing it. It could be called twice during the write operation depending on the location of the written data inside of the flash sector. The total sum of bytes to save never exceeds the size of the flash sector. Calling order of OnSaveBuffer and OnRestoreBuffer events also depends on the size and location of the written data.
<ul>
<br /><i>ANSIC prototype:</i> void OnSaveBuffer(%'ModuleName'_TAddress Addr, word Size)<br />
<li><i>Addr:<a href="IntFLASHUser Types.html#TAddress"><i>ComponentName_</i>TAddress</a></i> - Address in FLASH</li>
<li><i>Size:word</i> - The size of a buffer to save</li>
</ul><br />
</li>
<li>
<a name="OnRestoreBuffer">
<b>OnRestoreBuffer</b>
</a>
 - This event is available only if <tt>Safe write</tt> is selected in <a href="IntFLASHProperties.html">Write method</a> property and "Buffer type" property is set to <tt>Implemented by the user</tt>. The event is called after the erasure of the sector, which is needed to be modified. The backup data should be restored by the event. <a href="IntFLASHMethods.html">RestoreToFlash</a> method must be used for such a purpose (other write-to-FLASH <a href="IntFLASHMethods.html">methods</a> returns an error if called during this event).
<ul>
<br /><i>ANSIC prototype:</i> void OnRestoreBuffer(%'ModuleName'_TAddress Addr, word Size)<br />
<li><i>Addr:<a href="IntFLASHUser Types.html#TAddress"><i>ComponentName_</i>TAddress</a></i> - Address in FLASH</li>
<li><i>Size:word</i> - The size of a buffer to restore</li>
</ul><br />
</li>
<li>
<a name="OnEraseError">
<b>OnEraseError</b>
</a>
 - This event is only available when Safe write is selected in <a href="IntFLASHProperties.html">Write method</a> property and "Buffer type" property is set to "Implemented by the user" value. The Event is called when a sector erase error occurred. The event allows user to de-allocate the buffer with the stored data, even the OnRestoreBuffer event is not called because FLASH erase error.
<ul>
<br /><i>ANSIC prototype:</i> void OnEraseError(void)<br />
</ul><br />
</li>
<li class="versionspecdetail"><span class="versionspeclabel">Events for Freescale HCS12 K family.</span>
<ul>
<li>
<a name="OnDoubleFault">
<b>OnDoubleFault</b>
</a>
 - Event is called after double fault occurs. This event is enabled only if an <a href="IntFLASHProperties.html#IntService">Interrupt service/event</a> is enabled.
<ul>
<br /><i>ANSIC prototype:</i> void OnDoubleFault(void)<br />
<li><i>Priority</i> - Priority of the event routine. Default value is based on the interrupt priority defined in property <b>Interrupt priority</b>. For details see description below of the page.</li>
</ul><br />
</li>
</ul>
</li>
<li class="versionspecdetail"><span class="versionspeclabel">Events only if IntFLASH support Single or Double bit fault error.</span>
<ul>
<li>
<a name="OnError">
<b>OnError</b>
</a>
 - This event is invoked when Single or Double bit fault error interrupt flags is set. This event is available only if an <a href="IntFLASHProperties.html#IntService">Interrupt service/event</a> is enabled.
<br/> Possible values (values may be combined by means of bit OR operator): 
<br/>  - "ComponentName"_DOUBLE_FAULT - Double bit fault detected 
<br/>  - "ComponentName"_SINGLE_FAULT - Single bit fault detected
<ul>
<br /><i>ANSIC prototype:</i> void OnError(byte Flags)<br />
<li><i>Flags:byte</i> - Reason of the error - copy of flash error status register.</li>
<li><i>Priority</i> - Priority of the event routine. Default value is based on the interrupt priority defined in property <b>Interrupt priority</b>. For details see description below of the page.</li>
</ul><br />
</li>
</ul>
</li>
</ul>
<hr />
<font style="font: 12px Verdana, Geneva, Arial, Helvetica, sans-serif;COLOR: #005ba2;">
<b><i>For each generated event it is possible to set:</i></b><br />
</font>
<ul>
  <li><b>Procedure Name</b> - name of procedure (written by user) that handles the event.</li>
  <li><b>Priority</b> <small>(if supported)</small> - priority of the user procedure (for instance we may set it here as uninterruptable).</li>
<a href="../../DOCs/Priorities.html">Please refer to chapter "Processor Expert Priority System" for more</a>
</ul>

</div>
<!---USERBEG DON'T CHANGE THIS LINE-->

<!---USEREND DON'T CHANGE THIS LINE-->
      </div>
      
      <p class="footer">
        PROCESSOR EXPERT is trademark of Freescale Semiconductor, Inc.
        <br />
        Copyright 1997 - 2011 Freescale Semiconductor, Inc.
      </p>

    </td>
  </tr>

</table>

</body>
</html>
