<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1250">
<title>
Component documentation - General info
</title>
<STYLE type="text/css">
body{
  background-color: white;
  margin:0px;
  font: 13px Helvetica Neue, Helvetica, Arial, sans-serif;
}
A:visited {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:link {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:active {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:hover {
	COLOR: #2D8AA7; TEXT-DECORATION: underline
}
.VSP {
	COLOR: #2D8AA7; FONT: bold italic 14px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.reflink {
	FONT: 11px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
 	COLOR: #2D8AA7;
}
.user_text {
	FONT: 12px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
	COLOR: #000000;
}
.bluetext {
  COLOR: #695F52;
}
.versionspec {
  padding:5px; 
  background-color: RGB(243, 242, 230);
  margin-top:5px;
  margin-bottom:5px;  
}
.versionspecdetail {
  padding:5px; 
  background-color: RGB(243, 242, 230);
  margin-top:5px;
  margin-bottom:5px;  
}
.versionspeclabel {
  font-style: italic;
}
LI.DEF {
  list-style-image: url(DefaultLI.gif) ;
}
LI.BAS {
	list-style-image: url(BasicLI.gif) ;
}
LI.ADV {
	list-style-image: url(AdvancedLI.gif) ;
}
LI.EXP {
	list-style-image: url(ExpertLI.gif) ;
}
.titlebox {  
  font: bold 18px Helvetica Neue, Helvetica, Arial, sans-serif;
  color: #51626F;
  margin-bottom: 10px;
}
.lefttitlebox {
  background-color:#C3CFD1;  
}
.lefttitle {
  color:#51626F;
  font: bold 11px Helvetica Neue, Helvetica, Arial, sans-serif;   
}
.beanname {
  font: bold 14px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
  padding-top:6px;
  padding-bottom:5px;
  margin-bottom: 5px;
  border-bottom-style: dotted;
  border-bottom-width: 1;  
}
.descrtext {
  font-style: italic;
  font: 14px/18px Helvetica Neue, Helvetica, Arial, sans-serif;  
  padding-bottom:9px;
}
.footer {
  color: #b0b0b0; 
  font: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
  text-align: center;
  border-top-style: solid;
  border-top-color: #BOBOBO;
  border-top-width: 1px;  
  padding-top: 5px;
  margin-top: 20px;
}
.info_name {
  font: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
  padding: 0px;
  color: black;
}
.info_text {
  font: 11px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.text_title {
  COLOR: #000000; 
  FONT: bold 14px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.descr_line {
  COLOR: gray; 
  FONT: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
}
</STYLE>

</head>

<body>

<table border="0"  cellspacing="0" cellpadding="0">
  <tr>
    <td valign="top" width="150" >
      <table width="150" height="160" cellpadding="3" cellspacing="0" border="0">
        <tbody>
        <tr class="lefttitlebox">
          <td width="4"></td>
          <td align="center" valign="middle" height="30" width="128">
            <span class="lefttitle">
<b>SynchroSlave</b>
            </span>
          </td>
        </tr>
        <tr height="700">
          <td width="4"></td>
          <td width="128" valign="top">
            &nbsp;<br />
            <div class="reflink">
<!---HTMLLISTBEG_SHORT DON'T CHANGE THIS LINE-->
<i>General Info</i><br />
<a href="SynchroSlaveProperties.html">Properties</a><br />
<a href="SynchroSlaveMethods.html">Methods</a><br />
<a href="SynchroSlaveEvents.html">Events</a><br />
<a href="SynchroSlaveUser Types.html">Types and constants</a><br />
<a href="SynchroSlaveTypical Usage.html">Typical Usage</a><br />
<!---HTMLLISTEND DON'T CHANGE THIS LINE-->
<br /><br /><br />
<a href="../../DOCs/PredefSymbols.html">Types &amp; definitions</a><br/>
<a href="../../DOCs/BEANindex.html">Component Index</a><br/>
<a href="../../DOCs/CPUindex.html">CPU Component Index</a><br/>
<a href="../../DOCs/EmbeddedBeans.html">Embedded Components</a><br/>
<a href="../../DOCs/BeanCategories.html">Component Categories</a><br/>

<br /><br /><br />
<center>
<img src="SynchroSlave_b.gif" alt="Component icon"/>


</center>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </td>
    <td width="1" class="lefttitlebox" valign="top">
      <table class="lefttitlebox" width="1" cellpadding="0" cellspacing="0" height="100%" border="0">
        <tr class="lefttitlebox"><td width="1"></td></tr>
      </table>
    </td>
    <td style="padding-left:15px;padding-right:10px;" valign="top" align="left" width="100%">

           <div class="titlebox">
              <div class="beanname">
                Component
                
                
                SynchroSlave
              </div>              
              <div class="descrtext">Slave for synchronous serial communication</div>
              <div class="info_name">Component Level: <span class="info_text"><a href="../../DOCs/BeanCategoriesInfo.html#LevelAbstraction">High</a></span></div>
              <div class="info_name">Category: 
                <span class="info_text">
                <a href="../../DOCs/BeanCategoriesInfo.html">CPU Internal Peripherals-Communication</a>
                
                </span>
              </div>
            </div>
            <div class="user_text">
<!---DESCBEG DON'T CHANGE THIS-->
<p>
 This component (in cooperation with SynchroMaster) implements
a serial synchronous master-slave communication.
Only two devices can communicate - one of them is a MASTER and the other one is a SLAVE.
</p>
<CENTER>
<p>
<img src="spi.png"/>
</p>
</CENTER>
The SPI bus specifies four logic signals:
<ul>
  <li>SPSCK — Serial Clock (output from master)</li>
  <li>MOSI/SIMO — Master Output, Slave Input (output from master)</li>
  <li>MISO/SOMI — Master Input, Slave Output (output from slave)</li>
  <li>SS — Slave Select (active low; output from master)</li>
</ul>
Alternative naming conventions are also widely used:
<ul>
  <li>SCLK, SCK, CLK — Serial Clock (output from master)</li>
  <li>SDI, DI, SI — Serial Data In</li>
  <li>SDO, DO, SO — Serial Data Out</li>
  <li>nCS, CS, nSS, STE — Chip Select, Slave Transmit Enable (active low; output from master)</li>
</ul>
<p>
The difference between the master and slave is that the master generates the clock signal
while the slave receives it. Consequently, if the master has no data to send to
slave and needs receive data from the slave, it still has to transmit a character.
For example a reserved character called "empty character" that may be ignored
by slave (see properties <a href="SynchroSlaveProperties.html#EOF">Empty character</a>
and <a href="SynchroSlaveProperties.html#IgnoreEOF">Ignore empty char.</a>).
</p>
<p>
That also applies vice versa - if the slave has no data, it sends an empty
character to the master. When the device is initialized or enabled
(initialized by <a href="SynchroSlaveMethods.html#Enable">Enable</a> method) and
<a href="SynchroSlaveProperties.html#IntService">Interrupt service</a> property
is enabled, the <a href="SynchroSlaveProperties.html#EOF">empty character</a> is saved in the output buffer of
the device, i.e. the slave device sends the <a href="SynchroSlaveProperties.html#EOF">empty character</a> as the first character
after initialization of the device. This mechanism is not supported in polling mode
(<a href="SynchroSlaveProperties.html#IntService">Interrupt service</a> property is disabled) and
the user code must ensure saving of the <a href="SynchroSlaveProperties.html#EOF">empty character</a> into output buffer.
</p>
<p>
The type of the user type <i>ComponentName</i>_TComData is a byte if the number of information bits
(<a href="SynchroSlaveProperties.html#SerWidth">Width</a> property) is less than or equal to 8. If the number of information
bits is greater than 8, the type of the user type <i>ComponentName</i>_TComData is a word.
</p>
<hr />
<a name="SW_overrun_behavior"><h3>SW overrun behavior</h3></a>
<p>
<ul>
<li>If the poling mode is used already received data will not be lost.</li>
<li>If the interrupt mode is used and data buffer (<a href="SynchroSlaveProperties.html#InpBufferSize">Input buffer size</a> property) is greater than 0 then already received data will not be lost, too.</li>
<li>But if the interrupt mode is used and data buffer (<a href="SynchroSlaveProperties.html#InpBufferSize">Input buffer size</a> property) is equal to 0 new data replace the older one.</li>
</ul>
</p>
<hr />
<a name="Clock settings"><h3>Configuring Clock edge and Shift clock idle polarity properties</h3></a>

<p>
The pictures below show posible settings and their influence on the SPI communication operation.<br />
The <a href="SynchroSlaveProperties.html#ClockEdge">Clock edge</a> property defines edge on which new logical value of data is moved to line, this edge is in pictures marked by <b>red point</b>.<br />
If <a href="SynchroSlaveProperties.html#ClockEdge">Clock edge</a> is set to Falling edge and <a href="SynchroSlaveProperties.html#SKpolarityHC">Shift clock idle polarity</a> is set to Low or Clock edge is set to Rising edge and Shift clock idle polarity is set to High (picture 3 and 4; CPHA = 0),
the first data bit transfer to line starts with falling edge on the SS line, in picture marked by <b>green point</b>. In this case the SS connection is demanded.<br />
In other two cases (picture 1 and 2; CPHA = 1) the first data bit transfer to line starts with first edge on the CLK line.<br />
If the target architecture uses CPOL (Clock polarity) and CPHA (Clock phase) bits, you can find the corresponding values in the pictures.<br />
</p>
<CENTER>
<img src="synchro.png"/>
</CENTER>
<hr />
<br />
<div class="versionspec">
<B CLASS="VSP">
Version specific information for Freescale HCS08 and RS08 and HCS12 and HCS12X and ColdFireV1 derivatives
</B>
<br/>
<a name="Bidirectional_behavior"><h3>Bidirectional mode behavior</h3></a>
<p>
The picture below show the SynchroSlave HW inner interconnection in the normal (two wires are used for communication) and bidirectional mode (one wire communication).<br />
<p>In the bidirectional mode:</p>
<ul>
<li>
If the user choose the <b>Output direction</b> of the pin, so the data from Serial Out go to the SISO pin and also to the Serial In.<br />
In this case transmitted data are also received, so if there is the <a href="SynchroSlaveEvents.html#OnTxChar">OnTxChar</a> event enabled it's invoked together with the <a href="SynchroSlaveEvents.html#OnRxChar">OnRxChar</a> event if it's enabled.<br />
</li>
<li>
If the user choose the <b>Input direction</b> of the pin, so the data from the SISO pin go to the Serial In.<br />
In this case transmitted data are shifted out from periphery (Serial Out) however the output is not connected to the pin so the output data are discarded and data from the pin are received.<br />
So if there is the <a href="SynchroSlaveEvents.html#OnTxChar">OnTxChar</a> event enabled it's invoked together with the <a href="SynchroSlaveEvents.html#OnRxChar">OnRxChar</a> event if it's enabled.
</li>
</ul>
<p>Consequently the direction hasn't effect on the <a href="SynchroSlaveEvents.html#OnTxChar">OnTxChar</a> event or the <a href="SynchroSlaveEvents.html#OnRxChar">OnRxChar</a> event.</p>
<p>The behavior in the normal mode is obvious.</p>
</p>
<CENTER>
<img src="Bidirectional_mode_slave.jpg"/>
</CENTER>
</div>
<!---DESCEND DON'T CHANGE THIS-->
            </div>
           <p class="footer">
            PROCESSOR EXPERT is trademark of Freescale Semiconductor, Inc.
            <br />
            Copyright 1997 - 2010 Freescale Semiconductor, Inc.
           </p> 
    </td>
  </tr>

</table>

</body>
</html>
