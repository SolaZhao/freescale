<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1250">
<title>
Component documentation - General info
</title>
<STYLE type="text/css">
body{
  background-color: white;
  margin:0px;
  font: 13px Helvetica Neue, Helvetica, Arial, sans-serif;
}
A:visited {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:link {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:active {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:hover {
	COLOR: #2D8AA7; TEXT-DECORATION: underline
}
.VSP {
	COLOR: #2D8AA7; FONT: bold italic 14px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.reflink {
	FONT: 11px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
 	COLOR: #2D8AA7;
}
.user_text {
	FONT: 12px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
	COLOR: #000000;
}
.bluetext {
  COLOR: #695F52;
}
.versionspec {
  padding:5px; 
  background-color: RGB(243, 242, 230);
  margin-top:5px;
  margin-bottom:5px;  
}
.versionspecdetail {
  padding:5px; 
  background-color: RGB(243, 242, 230);
  margin-top:5px;
  margin-bottom:5px;  
}
.versionspeclabel {
  font-style: italic;
}
LI.DEF {
  list-style-image: url(DefaultLI.gif) ;
}
LI.BAS {
	list-style-image: url(BasicLI.gif) ;
}
LI.ADV {
	list-style-image: url(AdvancedLI.gif) ;
}
LI.EXP {
	list-style-image: url(ExpertLI.gif) ;
}
.titlebox {  
  font: bold 18px Helvetica Neue, Helvetica, Arial, sans-serif;
  color: #51626F;
  margin-bottom: 10px;
}
.lefttitlebox {
  background-color:#C3CFD1;  
}
.lefttitle {
  color:#51626F;
  font: bold 11px Helvetica Neue, Helvetica, Arial, sans-serif;   
}
.beanname {
  font: bold 14px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
  padding-top:6px;
  padding-bottom:5px;
  margin-bottom: 5px;
  border-bottom-style: dotted;
  border-bottom-width: 1;  
}
.descrtext {
  font-style: italic;
  font: 14px/18px Helvetica Neue, Helvetica, Arial, sans-serif;  
  padding-bottom:9px;
}
.footer {
  color: #b0b0b0; 
  font: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
  text-align: center;
  border-top-style: solid;
  border-top-color: #BOBOBO;
  border-top-width: 1px;  
  padding-top: 5px;
  margin-top: 20px;
}
.info_name {
  font: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
  padding: 0px;
  color: black;
}
.info_text {
  font: 11px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.text_title {
  COLOR: #000000; 
  FONT: bold 14px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.descr_line {
  COLOR: gray; 
  FONT: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.code {
  background-color: RGB(243, 242, 230);
  padding: 10px;
  white-space: pre;
  font-family: Courier New, Monospace;
}
</STYLE>

</head>

<body>

<table border="0"  cellspacing="0" cellpadding="0">
  <tr>
    <td valign="top" width="150" >
      <table  width="150" height="160" cellpadding="3" cellspacing="0" border="0">
        <tbody>
        <tr class="lefttitlebox">
          <td width="4"></td>
          <td align="center" valign="middle" height="30" width="128">
            <span class="lefttitle">
<b>Init_TIM</b>
            </span>
          </td>
        </tr>
        <tr height="700">
          <td width="4"></td>
          <td width="128" valign="top">
            &nbsp;<br />
            <div class="reflink">
<!---HTMLLISTBEG_SHORT DON'T CHANGE THIS LINE-->
<i>General Info</i><br />
<!---HTMLLISTEND DON'T CHANGE THIS LINE-->
<br /><br /><br />
<!--#LINKS-->
<a href="../../DOCs/BEANindexMCUinit.html">Init.Components</a><br />
<br /><br /><br />
<center>

<img src="Init_TIM_HCS12_b.gif" alt="Component icon"/>
<br /><i>Component icon</i>


</center>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </td>
    <td width="1" class="lefttitlebox" valign="top">
      <table class="lefttitlebox" width="1" cellpadding="0" cellspacing="0" height="100%" border="0">
        <tr class="lefttitlebox"><td width="1"></td></tr>
      </table>
    </td>
    <td style="padding-left:15px;padding-right:10px;" valign="top" align="left" width="100%">

       <div class="titlebox">
          <div class="beanname">
            Component
            
            
            Init_TIM for HCS12
          </div>
          <div class="descrtext">Timer Interface Module (TIM)</div>
        </div>

       <div class="text_title">
            Device Initialization
  		 </div>		 
  		 <div class="descr_line">                  
            (Description of the component parameters.)                   
       </div>

<!---DESCBEG DON'T CHANGE THIS-->
  <!--here you can write text that BW will let live during generation process-->
  <!--sem je mozno napsat popis, ktery BW pri pregenerovani zachova-->
<!---DESCEND DON'T CHANGE THIS-->
       <div class="user_text">
         <ul>
  <li>
<a name="MainModule">
<b>Device</b></a> - Selection of the Timer module
</li>
<li>
<a name="SettingsGrp">
<b>Settings</b></a> - Common TIM module settings.
<ul>
  <li>
  <a name="ClockGrp">
  <b>Clock settings</b></a> - Clock/timing settings of the module.
  <ul>
        <li class="versionspecdetail">
    <a name="HasPrecisionTimer">
    </a><i>Settings only if peripheral contains the Precision Timer.</i>
    <ul>
      <li>
      <a name="TIMPrecTimer">
      <b>Precision Timer</b></a> - Enables precision timer. All bits in the PTPSR register are used for the delay selection, all bits of the PTPSR register are used for Precision Timer Prescaler Selection, and all bits of PTMCPSR register are used for the prescaler Precision Timer Modulus Counter Prescaler selection. This item modifies the PRNT bit in the TSCR1 register.<br />
The following items are available only if the group is enabled (the value is "Enabled"):<br />

      <ul>
        <li>
        <a name="PrecisTimPresc">
        <b>Precision Timer Prescaler</b></a> - Specify the division rate of the main Timer prescaler.<br />
 This item modifies all bits in PTPSR register.
        </li>
      </ul>
      </li>
    </ul>
    </li>
        <li>
    <a name="Prescaler">
    <b>Prescaler</b></a> - Prescaler.<br /> This item modifies PR0, PR1 and PR2 bits in TSCR2 register.<br /><br />
There are 8 options:<br />
<ul>
  <li><u>Bus Clock / 1</u>: Prescale Factor</li>
  <li><u>Bus Clock / 2</u>: Prescale Factor</li>
  <li><u>Bus Clock / 4</u>: Prescale Factor</li>
  <li><u>Bus Clock / 8</u>: Prescale Factor</li>
  <li><u>Bus Clock / 16</u>: Prescale Factor</li>
  <li><u>Bus Clock / 32</u>: Prescale Factor</li>
  <li><u>Bus Clock / 64</u>: Prescale Factor</li>
  <li><u>Bus Clock / 128</u>: Prescale Factor</li>
</ul><br />

    </li>
    <li>
    <a name="Frequency">
    <b>Frequency</b></a> - Frequency. This item is influenced by the following properties: <a href="#Prescaler">Prescaler</a>, <a href="#Clock">Clock</a>.
    </li>
    <li>
    <a name="Clock">
    <b>Clock</b></a> - Timer clock source selection.<br /> This item modifies CLK0, CLK1 bits in the PACTL register.<br /><br />
There are 4 options:<br />
<ul>
  <li><u>Timer prescaler</u>: Use timer prescaler clock as timer counter clock</li>
  <li><u>PACLK</u>: Use PACLK as input to timer counter clock</li>
  <li><u>PACLK/256</u>: Use PACLK/256 as timer counter clock frequency.</li>
  <li><u>PACLK/65536</u>: Use PACLK/65536 as timer counter clock frequency.</li>
</ul><br />

    </li>
  </ul>
  </li>
  <li>
  <a name="FastFlagClear">
  <b>Fast Flag Clear</b></a> - For TFLG1, a read from an input capture or a write to the output compare channel causes the corresponding channel flag, CnF, to be cleared. For TFLG2, any access to the TCNT register clears the TOF flag. Any access to the PACNT registers clears the PAOVF and PAIF flags in the PAFLG register. This has the advantage of eliminating software overhead in a separate clear sequence.<br />
 This item modifies TFFCA bit in TSCR1 register.
  </li>
    <li class="versionspecdetail">
  <a name="SupportCounterReset">
  </a><i>Settings only if TIM supports counter reseting</i>
  <ul>
    <li>
    <a name="CounterResetEn">
    <b>Counter Reset Enable</b></a> - This bit allows the timer counter to be reset by a successful output compare 7 event. This mode of operation is similar to an up-counting modulus counter.<br />
 This item modifies TCRE bit in TSCR2 register.
    </li>
  </ul>
  </li>
    <li>
  <a name="StopsInWait">
  <b>Stop in wait mode</b></a> - Disable the timer module when the MCU is in the wait mode. Timer interrupts cannot be used to get MCU out of wait. Pulse accumulators are also affected.<br />
 This item modifies TSWAI bit in TSCR1 register.
  </li>
  <li>
  <a name="StopsInFreeze">
  <b>Stop in freeze mode</b></a> - Disable the timer module when the MCU is in the freeze mode. Pulse accumulators will not stop.<br />
 This item modifies TSFRZ bit in TSCR1 register.
  </li>
    <li class="versionspecdetail">
  <a name="UF32_64">
  <span class="versionspeclabel">Settings supported for Freescale HCS12 UF32 derivative only.</span></a>
  <ul>
    <li>
    <a name="PinGrpSel">
    <b>Pin group select</b></a> - This item is available on UF32 derivative only. It route channels pins either to B port or  Q, M, T port.<br /> This item modifies MODRR2 bit in MODRR register.<br /><br />
There are 2 options:<br />
<ul>
  <li><u>First</u>: Route TIM IOC[7:0] to PQ[7:4],PM[4:3],PT[1:0].</li>
  <li><u>Second</u>: Route TIM IOC[7:0] to Port B [7:0].</li>
</ul><br />

    </li>
  </ul>
  </li>
    <li>
  <a name="ChannelsList">
  <b>Channels</b></a> - Settings of the TIM channels
  <br />One Item of the list looks like:<br />
  <a name="ChannelEn">
  <b>Channel</b></a> - Channel group.
  <ul>
    <li>
    <a name="CaptureDev">
    <b>Channel Device</b></a> - Capture/Compare Channel
    </li>
    <li>
    <a name="Mode">
    <b>Channel Mode</b></a> - Input Capture or Output Compare Channel Configuration. <br/> This item influences list of available pins/signals in Channel pin property.<br/> This item modifies IOSx bit in TIOS register.<br /><br />
There are 2 options:<br />
<ul>
  <li><u>Capture</u>: The corresponding channel acts as an input capture</li>
  <li><u>Compare</u>: The corresponding channel acts as an output compare.</li>
</ul><br />

    </li>
        <li class="versionspecdetail">
    <a name="HasChannel7">
    </a><i>Settings only if TIM contains channel 7</i>
    <ul>
      <li>
      <a name="CompareMask">
      <b>Compare Mask</b></a> - Setting the OC7Mx will set the corresponding port to be an output port when the corresponding TIOSx bit is set to be an output compare.<br />
 This item modifies OC7Mx bit in OC7M register.
      </li>
      <li>
      <a name="CompareData">
      <b>Compare Data</b></a> - A channel x output compare can cause bits in the output compare x data register to transfer to the timerport data register depending on the output compare x mask register.<br /> This item modifies OC7Dx bit in OC7D register.<br /><br />
There are 2 options:<br />
<ul>
  <li><u>0</u>: This value will be transfered to output channel.</li>
  <li><u>1</u>: This value will be transfered to output channel.</li>
</ul><br />

      </li>
    </ul>
    </li>
        <li>
    <a name="ToggleOnOverflow">
    <b>Toggle On Overflow</b></a> - Channel toggles output compare pin on overflow.<br />
 This item modifies TOVx bit in TTOV register.
    </li>
    <li>
    <a name="InputControl">
    <b>Input control</b></a> - This item configures the input capture edge detector circuits.<br />
 This item modifies EDGxA and EDGxB bit in TCTL3/TCTL4 registers.
    </li>
    <li>
    <a name="OutputAction">
    <b>Output action</b></a> - This item specifies the output action to be taken as a result of a successful OCx compare.<br /> This item modifies OMx and OLx bit in TCTL1/TCTL2 register.<br /><br />
There are 4 options:<br />
<ul>
  <li><u>Disconected</u>: Timer disconnected from output pin logic.</li>
  <li><u>Toggle output line</u>: Toggle OCx output line.</li>
  <li><u>Clear line to zero</u>: Clear OCx output line to zero.</li>
  <li><u>Set line to one</u>: Set OCx output line to one.</li>
</ul><br />

    </li>
        <li class="versionspecdetail">
    <a name="Symbol0">
    </a><i>Settings only if peripheral contains the OCPD register.</i>
    <ul>
      <li>
      <a name="OutComPin">
      <b>Output Compare Pin</b></a> - Enables/Disables the timer channel IO port.<br />
 This item modifies the appropriate OCPDx bit in the OCPD register.
      </li>
    </ul>
    </li>
        <li>
    <a name="CaptCompReg">
    <b>Compare Value</b></a> - Compare Register Value.<br />
 This item modifies all bits in TCx register.
    </li>
    <li>
    <a name="ChannelIntGrp">
    <b>Channel interrupt</b></a> - Channel interrupt settings
    <ul>
      <li>
      <a name="ChannelIntEn">
      <b>Channel interrupt</b></a> - Enable/disable Input Capture/Output Compare Interrupt.<br />
 This item modifies C0I to C7I bits in the TIE register.
      </li>
      <li>
      <a name="ChannelInt">
      <b>Interrupt</b></a> - Input Capture/Output Compare Interrupt vector
      </li>
      <li>
      <a name="ChannelPriority">
      <b>Priority</b></a> - Priority of the channel interrupt
      </li>
      <li>
      <a name="ISRHandleChannel">
      <b>ISR name</b></a> - Name of the interrupt service routine (ISR) invoked by this channel interrupt vector.
      </li>
    </ul>
    </li>
    <li>
    <a name="PinsGrp">
    <b>Pins</b></a> - Channel pins/signals settings. This item enables initialization of the pin and if enabled, pin is used exclusively by this component.<br />
The following items are available only if the group is enabled (the value is "Enabled"):<br />

    <ul>
      <li>
      <a name="ChannelPin">
      <b>Channel pin</b></a> - Channel pin/signal. List of available pins/signals depends on Channel Mode property.
      </li>
      <li>
      <a name="ChannelPinPull">
      <b>Channel pin pull resistor</b></a> - Setting of the pull resistor for a channel pin.<br/>This item modifies the respective bit in the port input pull-up enable register and eventually in the polarity select register.
      </li>
      <li>
      <a name="ChannelPinODE">
      <b>Channel pin open drain</b></a> - Setting of the open drain option for a channel pin.<br />
This item modifies the respective bit in the port wired-or mode register.
      </li>
    </ul>
    </li>
  </ul>
  </li>
    <li class="versionspecdetail">
  <a name="HasPACNT0">
  </a><i>Settings only if TIM module contains Pulse Accumulator</i>
  <ul>
    <li>
    <a name="AccGrp">
    <b>Pulse Accumulator</b></a> - This group covers all settings for accumulator.
    <ul>
      <li>
      <a name="AccCounter">
      <b>Accumulator counter</b></a> - Accumulator counter device selection.
      </li>
      <li>
      <a name="PACMode">
      <b>Pulse accumulator Mode</b></a> - Pulse accumulator mode.<br />
 This item modifies the PAMOD bit in the PACTL register.
      <br />There are 2 modes:
      <ul>
        <li><u><a name="PACMode_0">Gated time accumulation</a></u> - This bit is active only when the Pulse Accumulator A is enabled. The following items are displayed in this mode:
      <ul>
        <li>
        <a name="EdgeControl0">
        <b>Edge Control</b></a> - Pulse Accumulator Edge Control.<br /> This item modifies the PEDGE bit in the PACTL register.<br /><br />
There are 2 options:<br />
<ul>
  <li><u>Div. by 64 clock enabled with pin low level</u>: PT7 input pin low enables bus clock divided by 64 to Pulse Accumulator and the trailing rising edge on PT7 sets the PAIF flag.</li>
  <li><u>Div. by 64 clock enabled with pin high level</u>: PT7 input pin high enables bus clock divided by 64 to Pulse Accumulator and the trailing falling edge on PT7 sets the PAIF flag</li>
</ul><br />

        </li>
      </ul>
      </li>
      <li><u><a name="PACMode_1">Event counter</a></u> - This bit is active only when the Pulse Accumulator A is enabled. The following items are displayed in this mode:
    <ul>
        <li>
        <a name="EdgeControl">
        <b>Edge Control</b></a> - Pulse Accumulator Edge Control.<br /> This item modifies the PEDGE bit in the PACTL register.<br /><br />
There are 2 options:<br />
<ul>
  <li><u>On rising edges</u>: Rising edges on PT7 pin cause the count to be incremented.</li>
  <li><u>On falling edges</u>: Falling edges on PT7 pin cause the count to be incremented.</li>
</ul><br />

        </li>
    </ul>
    </li>
    </ul>
    </li>
    <li>
    <a name="AccCountReg">
    <b>Accumulators Count Register</b></a> - Accumulators Count Register.<br />
 This item modifies all bits in the PACNT register.
    </li>
    <li>
    <a name="InputPinEn">
    <b>Accumulator input pin initialization</b></a> - Enable/disable allocation of the accumulator input pin. Allocated pin is exclusively used by this peripheral and cannot be used by any other device.<br />
The following items are available only if the group is enabled (the value is "Enabled"):<br />

    <ul>
        <li>
        <a name="InputPin">
        <b>Input pin</b></a> - Input pin. This group must be disabled, if the corresponding pin is configured as a channel.
        </li>
        <li>
        <a name="InputPinPull">
        <b>Input pin pull resistor</b></a> - Setting of the pull resistor for the accumulator input pin.<br/>This item modifies the respective bit in the port input pull-up enable register and eventually in the polarity select register.
        </li>
    </ul>
    </li>
    </ul>
    </li>
  </ul>
  </li>
  </ul>
</li>
<li>
<a name="IntGrp">
<b>Interrupts</b></a> - Interrupts settings of the module.
<ul>
  <li>
  <a name="TimerOvfGrp">
  <b>Timer overflow</b></a> - Timer overflow settings.
  <ul>
    <li>
    <a name="OverflowIntEn">
    <b>Timer overflow</b></a> - Enable/disable Timer overflow interrupt.<br />
 This item modifies the TOI bit in the TSCR2 register.
    </li>
    <li>
    <a name="OverflowInt">
    <b>Interrupt</b></a> - Interrupt vector (for information only).
    </li>
    <li>
    <a name="OverflowPriority">
    <b>Priority</b></a> - Priority of timer overflow interrupt.
    </li>
    <li>
    <a name="ISRHandleOverflow">
    <b>ISR name</b></a> - Name of the interrupt service routine (ISR) invoked by this interrupt vector.<br />
Note: The routine must handle all interrupt flags correctly. The routine must be implemented in the user code, it is not generated by Processor Expert. Find external prototypes of the ISRs in the component module header file.
    </li>
  </ul>
  </li>
    <li class="versionspecdetail">
  <a name="HasPACNT1">
  </a><i>Settings only if TIM module contains Pulse Accumulator</i>
  <ul>
    <li>
    <a name="AccOvfGrp">
    <b>Accumulator Overflow</b></a> - Accumulator Overflow settings.
    <ul>
      <li>
      <a name="AccOverflowIntEn">
      <b>Accumulator Overflow</b></a> - Enable/disable Accumulator overflow interrupt.<br />
 This item modifies the PAOVI bit in the PACTL register.
      </li>
      <li>
      <a name="AccOverflowInt">
      <b>Interrupt</b></a> - Interrupt vector (for information only).
      </li>
      <li>
      <a name="AccOverflowPriority">
      <b>Priority</b></a> - Priority of accumulator overflow interrupt.
      </li>
      <li>
      <a name="ISRHandleAccOverflow">
      <b>ISR name</b></a> - Name of the interrupt service routine (ISR) invoked by this interrupt vector.<br />
Note: The routine must handle all interrupt flags correctly. The routine must be implemented in the user code, it is not generated by Processor Expert. Find external prototypes of the ISRs in the component module header file.
      </li>
    </ul>
    </li>
    <li>
    <a name="AccInGrp">
    <b>Accumulator Input</b></a> - Accumulator Input settings.
    <ul>
      <li>
      <a name="AccInputIntEn">
      <b>Accumulator Input</b></a> - Enable/disable Accumulator input interrupt.<br />
 This item modifies the PAI bit in the PACTL register.
      </li>
      <li>
      <a name="AccInputInt">
      <b>Interrupt</b></a> - Interrupt vector (for information only).
      </li>
      <li>
      <a name="AccInputPriority">
      <b>Priority</b></a> - Priority of accumulator input interrupt.
      </li>
      <li>
      <a name="ISRHandleAccInput">
      <b>ISR name</b></a> - Name of the interrupt service routine (ISR) invoked by this interrupt vector.<br />
Note: The routine must handle all interrupt flags correctly. The routine must be implemented in the user code, it is not generated by Processor Expert. Find external prototypes of the ISRs in the component module header file.
      </li>
    </ul>
    </li>
  </ul>
  </li>
  </ul>
</li>
<li>
<a name="InitGrp">
<b>Initialization</b></a> - Initialization options of the module.
<ul>
  <li>
  <a name="TimerEn">
  <b>Timer</b></a> - Timer enable.<br />
 This item modifies the TEN bit in the TSCR1 register.
  </li>
    <li class="versionspecdetail">
  <a name="HasPACNT3">
  </a><i>Settings only if TIM module contains Pulse Accumulator</i>
  <ul>
    <li>
    <a name="AccumulatorEn">
    <b>Pulse Accumulator</b></a> - Accumulator enable.<br />
 This item modifies the PAEN bit in the PACTL register.
    </li>
  </ul>
  </li>
  </ul>
</li>

         </ul>
       </div>
  
       <p class="footer">
         PROCESSOR EXPERT is trademark of Freescale Semiconductor, Inc.
         <br />
         Copyright 1997 - 2011 Freescale Semiconductor, Inc.
       </p>
     
    </td>
  </tr>

</table>

</body>
</html>
