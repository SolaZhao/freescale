<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1250">
<title>
Component documentation - Application Notes
</title>
<STYLE type="text/css">
body{
  background-color: white;
  margin:0px;
  font: 13px Helvetica Neue, Helvetica, Arial, sans-serif;
}
A:visited {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:link {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:active {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:hover {
	COLOR: #2D8AA7; TEXT-DECORATION: underline
}
.VSP {
	COLOR: #2D8AA7; FONT: bold italic 14px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.reflink {
	FONT: 11px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
 	COLOR: #2D8AA7;
}
.user_text {
	FONT: 12px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
	COLOR: #000000;
}
.bluetext {
  COLOR: #695F52;
}
.versionspec {
  padding:5px; 
  background-color: RGB(243, 242, 230);
  margin-top:5px;
  margin-bottom:5px;  
}
.versionspecdetail {
  padding:5px; 
  background-color: RGB(243, 242, 230);
  margin-top:5px;
  margin-bottom:5px;  
}
.versionspeclabel {
  font-style: italic;
}
LI.DEF {
  list-style-image: url(DefaultLI.gif) ;
}
LI.BAS {
	list-style-image: url(BasicLI.gif) ;
}
LI.ADV {
	list-style-image: url(AdvancedLI.gif) ;
}
LI.EXP {
	list-style-image: url(ExpertLI.gif) ;
}
.titlebox {  
  font: bold 18px Helvetica Neue, Helvetica, Arial, sans-serif;
  color: #51626F;
  margin-bottom: 10px;
}
.lefttitlebox {
  background-color:#C3CFD1;  
}
.lefttitle {
  color:#51626F;
  font: bold 11px Helvetica Neue, Helvetica, Arial, sans-serif;   
}
.beanname {
  font: bold 14px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
  padding-top:6px;
  padding-bottom:5px;
  margin-bottom: 5px;
  border-bottom-style: dotted;
  border-bottom-width: 1;  
}
.descrtext {
  font-style: italic;
  font: 14px/18px Helvetica Neue, Helvetica, Arial, sans-serif;  
  padding-bottom:9px;
}
.footer {
  color: #b0b0b0; 
  font: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
  text-align: center;
  border-top-style: solid;
  border-top-color: #BOBOBO;
  border-top-width: 1px;  
  padding-top: 5px;
  margin-top: 20px;
}
.info_name {
  font: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
  padding: 0px;
  color: black;
}
.info_text {
  font: 11px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.text_title {
  COLOR: #000000; 
  FONT: bold 14px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.descr_line {
  COLOR: gray; 
  FONT: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.code {
  background-color: RGB(243, 242, 230);
  padding: 10px;
  white-space: pre;
  font-family: Courier New, Monospace;
}
</STYLE>

</head>

<body>

<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td valign="top" width="150" >
      <table  width="150" height="160" cellpadding="3" cellspacing="0" border="0">
        <tbody>
        <tr class="lefttitlebox">
          <td width="4"></td>
          <td align="center" valign="middle" height="30" width="128">
            <span class="lefttitle">
<b>ADC</b>
            </span>
          </td>
        </tr>
        <tr height="700">
          <td width="4"></td>
          <td width="128" valign="top">
            &nbsp;<br />
            <div class="reflink">
<!---HTMLLISTBEG_SHORT DON'T CHANGE THIS LINE-->
<a href="ADC.html">General Info</a><br />
<a href="ADCProperties.html">Properties</a><br />
<a href="ADCMethods.html">Methods</a><br />
<a href="ADCEvents.html">Events</a><br />
<a href="ADCUser Types.html">Types and constants</a><br />
<i>Application Notes</i><br />
<a href="ADCTypical Usage.html">Typical Usage</a><br />
<!---HTMLLISTEND DON'T CHANGE THIS LINE-->
<br /><br /><br />
<a href="../../DOCs/PredefSymbols.html">Types &amp; definitions</a><br/>
<a href="../../DOCs/BEANindex.html">Component Index</a><br/>
<a href="../../DOCs/CPUindex.html">CPU Component Index</a><br/>
<a href="../../DOCs/EmbeddedBeans.html">Embedded Components</a><br/>
<a href="../../DOCs/BeanCategories.html">Component Categories</a><br/>

<br /><br /><br />
<center>
<img src="ADC_b.gif" alt="Component icon"/>


</center>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </td>
    <td width="1" class="lefttitlebox" valign="top">
      <table class="lefttitlebox" width="1" cellpadding="0" cellspacing="0" height="100%" border="0">
        <tr class="lefttitlebox"><td width="1"></td></tr>
      </table>
    </td>
    <td style="padding-left:15px;padding-right:10px;" valign="top" align="left" width="100%">

           <div class="titlebox">
              <div class="beanname">
                Component
                
                
                ADC
              </div>
              <div class="descrtext">A/D converter</div>
              <div class="info_name">Component Level: <span class="info_text"><a href="../../DOCs/BeanCategoriesInfo.html#LevelAbstraction">High</a></span></div>
              <div class="info_name">Category: 
                <span class="info_text">
                <a href="../../DOCs/BeanCategoriesInfo.html">CPU Internal Peripherals-Converter-ADC</a>
                
                </span>
              </div>
            </div>
            
            <div class="text_title">
                  Application Notes:
       		  </div>		 
      		  <div class="descr_line">                  
                  (Examples, notes and hints for the component usage.)                   
            </div>            
<!---DESCBEG DON'T CHANGE THIS-->
<FONT style="COLOR: #000000; FONT: 12px/18px Verdana, Geneva, Arial, Helvetica, sans-serif">
 <hr size="1" color="#BOBOBO"/>
 <!-- MENU -->
<p>
  <UL>
<LI><B><a href="#Dead-lock">Inappropriate use of Measure(TRUE) or MeasureChan(TRUE) call can lead to an application dead-lock.</a></B>
<br/>
  </LI>
  
<div class="versionspec">
  <B CLASS="VSP">
  Version specific information for HCS12 derivatives
  </B>
  <br/>
<LI><B><a href="#ETORF">Problem with clearing External Trigger Overrun Flag.</a></B>  </LI>
</div>
  </UL>
 </p>
 <hr size="1" color="#BOBOBO"/>
<p>
<B><a name="Dead-lock"> Inappropriate use of <a href="ADCMethods.html#Measure">Measure(TRUE)</a> or 
<a href="ADCMethods.html#MeasureChan">MeasureChan(TRUE)</a> call can lead to application dead-lock.</a></B>
<br/>I.e. in polling mode (<a href="ADCProperties.html#IntService">Interrupt service</a> is disabled) 
the application stucks in <a href="ADCMethods.html#Measure">Measure</a> method, if <a href="ADCMethods.html#Disable">Disable</a>
method is called from an event of other component, 
or the <a href="ADCProperties.html#_SpeedGrp">speed mode</a> is switched to a mode where the ADC component is disabled while a measurement
launched by <a href="ADCMethods.html#Measure">Measure(TRUE)</a> method is in progress.
<BR/>Or if method <a href="ADCMethods.html#Measure">Measure(TRUE)</a> is called from an event of some component and the 
<a href="ADCProperties.html#InitPriority">priority</a> of the interrupt of ADC component isn't higher 
than the priority of this event (<a href="ADCProperties.html#IntService">Interrupt service</a> is enabled), this method will stuck.</p>
<div class="versionspec">

<B CLASS="VSP">
Version specific information for HCS12 derivatives
</B>
<br/>
<P>
<B><a name="ETORF"> Problem with clearing External Trigger Overrun Flag</a>  </B>
<br/>There is an issue concerning clearing of the ETORF flag. According to the datasheet writing 1 into the corresponding bit clears 
the ETORF flag. However this method fails on some versions of the HCS12 family (e.g. DP256B and others, see errata). It wasn't possible 
to use an alternative clearing method in all configurations of the ADC component. As a result on some HCS12 derivatives the <a href="ADCEvents.html#OnTrgOverrun">OnTrgOverrun</a> 
event may be called inadvertently several times, because the ETORF flag is not cleared correctly.
<br/>
If selected CPU is affected by this problem in AD converter (see errata) the clearing of the ETORF flag can be ensured by writing to a control 
register of the AD converter in the <a href="ADCEvents.html#OnTrgOverrun">OnTrgOverrun</a> event. This can be accomplished e.g. by sequential 
calling of <a href="ADCMethods.html#Disable">Disable</a> and <a href="ADCMethods.html#Enable">Enable</a> methods, or by calling 
<a href="ADCMethods.html#Stop">Stop</a> method followed by calling of a measuring method.
</P>
<P>Example 1:</P>
<P><PRE>
EVENTS.C

void AD_OnTrgOverrun(void)
{
  AD_Disable();
  AD_Enable();
  ........
}
</PRE></P>  
<P>Example 2:</P>
<P><PRE>
EVENTS.C

void AD_OnTrgOverrun(void)
{
  AD_Stop();
  AD_EnableExtTrigger();
  ........
}
</PRE></P>
</div>
</FONT>
<!---DESCEND DON'T CHANGE THIS-->
            <p class="footer">
              PROCESSOR EXPERT is trademark of Freescale Semiconductor, Inc.
              <br />
              Copyright 1997 - 2011 Freescale Semiconductor, Inc.
            </p>
    </td>
  </tr>

</table>

</body>
</html>
