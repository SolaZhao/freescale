<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1250">
<title>
Component documentation - Application Notes
</title>
<STYLE type="text/css">
body{
  background-color: white;
  margin:0px;
  font: 13px Helvetica Neue, Helvetica, Arial, sans-serif;
}
A:visited {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:link {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:active {
	COLOR: #2D8AA7; TEXT-DECORATION: none
}
A:hover {
	COLOR: #2D8AA7; TEXT-DECORATION: underline
}
.VSP {
	COLOR: #2D8AA7; FONT: bold italic 14px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.reflink {
	FONT: 11px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
 	COLOR: #2D8AA7;
}
.user_text {
	FONT: 12px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
	COLOR: #000000;
}
.bluetext {
  COLOR: #695F52;
}
.versionspec {
  padding:5px; 
  background-color: RGB(243, 242, 230);
  margin-top:5px;
  margin-bottom:5px;  
}
.versionspecdetail {
  padding:5px; 
  background-color: RGB(243, 242, 230);
  margin-top:5px;
  margin-bottom:5px;  
}
.versionspeclabel {
  font-style: italic;
}
LI.DEF {
  list-style-image: url(DefaultLI.gif) ;
}
LI.BAS {
	list-style-image: url(BasicLI.gif) ;
}
LI.ADV {
	list-style-image: url(AdvancedLI.gif) ;
}
LI.EXP {
	list-style-image: url(ExpertLI.gif) ;
}
.titlebox {  
  font: bold 18px Helvetica Neue, Helvetica, Arial, sans-serif;
  color: #51626F;
  margin-bottom: 10px;
}
.lefttitlebox {
  background-color:#C3CFD1;  
}
.lefttitle {
  color:#51626F;
  font: bold 11px Helvetica Neue, Helvetica, Arial, sans-serif;   
}
.beanname {
  font: bold 14px/18px Helvetica Neue, Helvetica, Arial, sans-serif;
  padding-top:6px;
  padding-bottom:5px;
  margin-bottom: 5px;
  border-bottom-style: dotted;
  border-bottom-width: 1;  
}
.descrtext {
  font-style: italic;
  font: 14px/18px Helvetica Neue, Helvetica, Arial, sans-serif;  
  padding-bottom:9px;
}
.footer {
  color: #b0b0b0; 
  font: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
  text-align: center;
  border-top-style: solid;
  border-top-color: #BOBOBO;
  border-top-width: 1px;  
  padding-top: 5px;
  margin-top: 20px;
}
.info_name {
  font: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
  padding: 0px;
  color: black;
}
.info_text {
  font: 11px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.text_title {
  COLOR: #000000; 
  FONT: bold 14px Helvetica Neue, Helvetica, Arial, sans-serif;
}
.descr_line {
  COLOR: gray; 
  FONT: 9px Helvetica Neue, Helvetica, Arial, sans-serif;
}
</STYLE>

</head>

<body>

<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td valign="top" width="150" >
      <table  width="150" height="160" cellpadding="3" cellspacing="0" border="0">
        <tbody>
        <tr class="lefttitlebox">
          <td width="4"></td>
          <td align="center" valign="middle" height="30" width="128">
            <span class="lefttitle">
<b>PWMMC</b>
            </span>
          </td>
        </tr>
        <tr height="700">
          <td width="4"></td>
          <td width="128" valign="top">
            &nbsp;<br />
            <div class="reflink">
<!---HTMLLISTBEG_SHORT DON'T CHANGE THIS LINE-->
<a href="PWMMC.html">General Info</a><br />
<a href="PWMMCProperties.html">Properties</a><br />
<a href="PWMMCMethods.html">Methods</a><br />
<a href="PWMMCEvents.html">Events</a><br />
<a href="PWMMCUser Types.html">Types and constants</a><br />
<i>Application Notes</i><br />
<a href="PWMMCTypical Usage.html">Typical Usage</a><br />
<!---HTMLLISTEND DON'T CHANGE THIS LINE-->
<br /><br /><br />
<a href="../../DOCs/PredefSymbols.html">Types &amp; definitions</a><br/>
<a href="../../DOCs/BEANindex.html">Component Index</a><br/>
<a href="../../DOCs/CPUindex.html">CPU Component Index</a><br/>
<a href="../../DOCs/EmbeddedBeans.html">Embedded Components</a><br/>
<a href="../../DOCs/BeanCategories.html">Component Categories</a><br/>

<br /><br /><br />
<center>
<img src="PWMMC_b.gif" alt="Component icon"/>


</center>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </td>
    <td width="1" class="lefttitlebox" valign="top">
      <table class="lefttitlebox" width="1" cellpadding="0" cellspacing="0" height="100%" border="0">
        <tr class="lefttitlebox"><td width="1"></td></tr>
      </table>
    </td>
    <td style="padding-left:15px;padding-right:10px;" valign="top" align="left" width="100%">

           <div class="titlebox">
              <div class="beanname">
                Component
                
                
                PWMMC
              </div>
              <div class="descrtext">Pulse width modulation for motor control</div>
              <div class="info_name">Component Level: <span class="info_text"><a href="../../DOCs/BeanCategoriesInfo.html#LevelAbstraction">Low</a></span></div>
              <div class="info_name">Category: 
                <span class="info_text">
                <a href="../../DOCs/BeanCategoriesInfo.html">CPU Internal Peripherals-Timer</a>
                
                </span>
              </div>
            </div>
            
            <div class="text_title">
                  Application Notes:
       		  </div>		 
      		  <div class="descr_line">                  
                  (Examples, notes and hints for the component usage.)                   
            </div>            
<!---DESCBEG DON'T CHANGE THIS-->
<FONT style="COLOR: #000000; FONT: 12px/18px Verdana, Geneva, Arial, Helvetica, sans-serif">
<a id="Align"><b><u>Align</u></b></a>
<br/>
The Align selects either <b>Center-Aligned</b> or <b>Edge-Aligned</b> PWMMC generator outputs.
The center-aligned mode is shown on <b><FONT style="COLOR: #3639C0">Figure 1.</FONT></b> and
the edge-aligned mode is shown on <b><FONT style="COLOR: #3639C0">Figure 2.</FONT></b>.
<br/><FONT style="COLOR: #C00017">For some peripherals period in the center-aligned mode can be times longer then in the
edge-aligned mode.</FONT>
<br/><br/>
<CENTER>
<IMG src="center_align.png"/>
<B>Figure 1. PWMMC Center-Aligned Mode</B>
<br/><br/>
<IMG src="edge_align.png"/>
<B>Figure 2. PWMMC Edge-Aligned Mode</B>
</CENTER>
<hr/><br/>
<a id="Mode"><b><u>Mode</u></b></a>
<br/>
The Mode selects either <b>Complementary Channel Operation</b> (see <b><FONT style="COLOR: #3639C0">Figure 3.</FONT></b> Note: grey places represent inserted deadtimes)
or <b>Independent Channel Operation</b> (see <b><FONT style="COLOR: #3639C0">Figure 1.</FONT></b>) PWMMC generator outputs.
The complementary chanel operation drives top and bottom transistors in an inverter circuit, such as the one in
<b><FONT style="COLOR: #3639C0">Figure 4.</FONT></b>.
<br/><br/>
<CENTER>
<IMG src="complementary.png"/>
<B>Figure 3. Complementary Channel Operation</B>
<br/><br/>
<IMG src="Transistors.png"/>
<B>Figure 4. Typical 3-Phase Inverter</B>
</CENTER>
<hr/><br/>
<a name="OutputPads"><b><u>Output Pads</u></b></a>
<br/>
The PWMMC output Pads can be enabled or disabled by property <b>Output Pads</b>.
The power-up default has the pads disabled. This settings does not affect the functionality of the
PWMMC, so the PWMMC module can be energized with the output pads disabled. The Output Pads can be
changed by the <i>OutputPadEnable()</i> and <i>OutputPadDisable()</i> methods. When the Output Pads
are disabled the PWMMC pins are set to the tri-stated.
<hr/><br/>
<a name="Frequency"><b><u>Frequency / Output Frequency</u></b></a>
<br/>
The Frequency of the PWMMC output is set by this property. The right output frequency is shown in
<b>Output Frequency</b>.
<br/><FONT style="COLOR: #C00017">For some peripherals frequency in the center-aligned mode can be half then in the
edge-aligned mode</FONT> (see <b><FONT style="COLOR: #3639C0">Figure 5.</FONT></b>).
<br/><br/>
<CENTER>
<IMG src="Frequency.gif"/>
<B>Figure 5. Frequency in Center-aligned/Edge-aligned mode</B>
</CENTER>
<br/>
The PWMMC output frequency can be set by the <i>SetPeriod()</i> or <i>SetPrescaller()</i> methods.
Both methods are low-level methods and write the value of the parameter into register of the CPU.
The Value for setting <b>Frequency</b> property can be shown by the Peripheral Initialization Inspector
(see <b><FONT style="COLOR: #3639C0">Figure 6.</FONT></b>).
<br/><br/>
<CENTER>
<IMG src="periph_init.gif"/>
<B>Figure 6. Peripheral Initialization Inspector</B>
</CENTER>
<hr/><br/>
<a name="DeadTime"><b><u>Dead-time</u></b></a>
<br/>
While in the Complementary mode, each PWM pair can be used to drive top/bottom
transistors, illustrated in <b><FONT style="COLOR: #3639C0">Figure 4.</FONT></b>.
Ideally, the PWM pairs are an inversion of each other. When the top PWM channel
is active, the bottom PWM channel is inactive and vice versa.<br/>
To avoid short circuiting between top and bottom transistor, there must be no overlap of
conducting intervals between top and bottom transistor. But the transistor’s characteristics
make its switching-off time longer than switching-on time. To avoid the conducting
overlap of top and bottom transistors, dead-time needs to be inserted in the switching
period.<br/>
Dead-time generators automatically insert software-selectable activation delays into each
pair of PWM outputs. The Pulse Module Dead-time (PMDEADTM) register specifies the
number of PWM clock cycles to use for dead-time delay. Every time the PWM generator
output changes state, dead-time is inserted. Dead-time forces both PWM outputs in the pair
to the inactive state. The dead-time is shown in <b><FONT style="COLOR: #3639C0">Figure 3.</FONT></b>.
<hr/><br/>
<a name="Duty"><b><u>Duty</u></b></a>
<br/>
This property set the pulse width. In the real-time the Duty is set by <i>SetDuty(), SetDutyPercent(),
SetRatio15()</i> and <i>SetRatio16()</i> methods. The <i>SetDuty()</i> method is low-level method and
set the registers of the PWMMC. The Value of <i>SetDuty()</i> method parameter is availabled by
the Peripheral Initialization Inspector (see <b><FONT style="COLOR: #3639C0">Figure 6.</FONT></b>).
The Value of duty is shown in <b><FONT style="COLOR: #3639C0">Figure 1.</FONT></b>,
<b><FONT style="COLOR: #3639C0">Figure 2.</FONT></b>, <b><FONT style="COLOR: #3639C0">Figure 3.</FONT></b>
by the thick line.
<hr/><br/>
<a name="Reload"><b><u>Reload / Half Cycle Reload</u></b></a>
<br/>
This property selects the PWM load frequency according <b>Table 1.</b>. Half Cycle Reload property
enables half cycle reloads only in Center-Aligned mode. Half Cycle Reload has no effect on Edge-Aligned mode.
<br/><br/>
<CENTER>
<B>Table 1. PWM Reload Frequency</B><br/>
<TABLE width="100%" border="1" style="COLOR: #000000; FONT: 12px/18px Verdana, Geneva, Arial, Helvetica, sans-serif" bgcolor="white" bordercolor="silver">
  <TR>
    <TD width="10%" align="center"><b>Value</b></TD>
    <TD width="40%" align="center"><b>PWM Reload Frequency</b></TD>
    <TD width="10%" align="center"><b>Value</b></TD>
    <TD width="40%" align="center"><b>PWM Reload Frequency</b></TD>
  </TR>
  <TR>
    <TD align="center">0</TD>
    <TD>Every PWM Reload Opportunity</TD>
    <TD align="center">8</TD>
    <TD>Every 9 PWM Reload Opportunity</TD>
  </TR>
  <TR>
    <TD align="center">1</TD>
    <TD>Every 2 PWM Reload Opportunity</TD>
    <TD align="center">9</TD>
    <TD>Every 10 PWM Reload Opportunity</TD>
  </TR>
  <TR>
    <TD align="center">2</TD>
    <TD>Every 3 PWM Reload Opportunity</TD>
    <TD align="center">10</TD>
    <TD>Every 11 PWM Reload Opportunity</TD>
  </TR>
  <TR>
    <TD align="center">3</TD>
    <TD>Every 4 PWM Reload Opportunity</TD>
    <TD align="center">11</TD>
    <TD>Every 12 PWM Reload Opportunity</TD>
  </TR>
  <TR>
    <TD align="center">4</TD>
    <TD>Every 5 PWM Reload Opportunity</TD>
    <TD align="center">12</TD>
    <TD>Every 13 PWM Reload Opportunity</TD>
  </TR>
  <TR>
    <TD align="center">5</TD>
    <TD>Every 6 PWM Reload Opportunity</TD>
    <TD align="center">13</TD>
    <TD>Every 14 PWM Reload Opportunity</TD>
  </TR>
  <TR>
    <TD align="center">6</TD>
    <TD>Every 7 PWM Reload Opportunity</TD>
    <TD align="center">14</TD>
    <TD>Every 15 PWM Reload Opportunity</TD>
  </TR>
  <TR>
    <TD align="center">7</TD>
    <TD>Every 8 PWM Reload Opportunity</TD>
    <TD align="center">15</TD>
    <TD>Every 16 PWM Reload Opportunity</TD>
  </TR>
</TABLE>
</CENTER>
<br/>
<u>Meaning of the PWM Reload Opportunity:</u>
<br/>
If the Half Cycle Reload property is enabled, a reload opportunity occurs at both beginning of PWM cycle or PWM half cycle.
If the Half Cycle Reload property is disabled, a reload opportunity occurs only at the beginning of the cycle.
Reload opportunities can only occur at the beginning of a PWM cycle in Edge-Aligned mode.
<hr/><br/>
<div class="versionspec">
<B CLASS="VSP">
Version specific information for Freescale 56800, HCS12(X) derivatives
</B>
<br/>
<a name="MaskFault"><b><u>Mask fault x</u></b></a>
<br/>
Fault protection can disable any combination of PWMMC pins. Faults are generated
by a Logic 1 on any of the FAULT pins. Each FAULT pin can be mapped arbitrarily
to any of the PWMMC. When fault protection hardware disables PWMMC pins, the PWMMC generator
continues to run, only the output pins are deactivated. The fault decoder disables PWMMC
pins selected by the fault logic and the disable masking property. Please see
<b><FONT style="COLOR: #3639C0">Figure&nbsp;7.</FONT></b>.
<br/><br/>
<CENTER>
<IMG src="mask_fault.png"/>
<B>Figure 7. Fault Decoder for PWMMC Channel 0</B>
</CENTER>
<hr/><br/>
</div>

<a name="ClearingMode"><b><u>Fault Clearing Mode</u></b></a>
<br/>
This property selects automatic or manual clearing of FAULTx pin faults.
When the Clearing mode is set to manual, the fault flag must be clear by the
<i>ClearFaultFlag()</i> method.
</FONT>
<!---DESCEND DON'T CHANGE THIS-->
            <p class="footer">
              PROCESSOR EXPERT is trademark of Freescale Semiconductor, Inc.
              <br />
              Copyright 1997 - 2010 Freescale Semiconductor, Inc.
            </p>
    </td>
  </tr>

</table>

</body>
</html>
